(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{1008:function(module,exports,__webpack_require__){(exports=__webpack_require__(265)(!1)).push([module.i,".brush_tools {\n  align-items: center;\n  bottom: 0;\n  display: flex;\n  left: 0;\n  position: absolute;\n  pointer-events: none;\n  top: 0;\n  width: 42px;\n}\n\n.brush_tools_bar {\n  align-items: center;\n  -webkit-backdrop-filter: blur(3px);\n          backdrop-filter: blur(3px);\n  background-color: #4444;\n  border-radius: 0px 10px 10px 0px;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n  height: 250px;\n  padding-top: 25px;\n  padding-bottom: 25px;\n  pointer-events: auto;\n  transition: background-color 0.5s, padding 0.5s, border 0.5s;\n  transition-delay: 1s;\n  width: 100%;\n}\n\n.brush_tools_bar:hover {\n  background-color: #222e;\n  transition-delay: 0s;\n}\n\n@media only screen and (max-height: 250px) {\n  .brush_tools_bar {\n    border-radius: 0px;\n    height: 100%;\n  }\n}\n\n.edit_tools {\n  align-items: center;\n  display: flex;\n  justify-content: center;\n  pointer-events: none;\n  position: absolute;\n  top: 0;\n  width: 100%;\n}\n\n.edit_tools_bar {\n  align-items: center;\n  -webkit-backdrop-filter: blur(3px);\n          backdrop-filter: blur(3px);\n  background-color: #4444;\n  border-radius: 0px 0px 10px 10px;\n  box-sizing: border-box;\n  display: flex;\n  pointer-events: auto;\n  position: relative;\n  /* opacity: 0.5; */\n  transition: background-color 0.5s, padding 0.5s, border 0.5s;\n  transition-delay: 1s;\n}\n\n.edit_tools_bar:hover {\n  transition-delay: 0s;\n  background-color: #222e;\n  /* opacity: 1; */\n}\n\n.icon_divider {\n  width: 1px;\n  height: 34px;\n  background: #9995;\n  margin: 0px 10px 0px 10px;\n}",""]),module.exports=exports},1025:function(module,exports,__webpack_require__){var map={"./AdvanceUsage.stories.tsx":524,"./AnnotateCanvas.stories.tsx":536,"./MediaPlayer.stories.tsx":530,"./PanZoomPinch.stories.tsx":531,"./StopWatch.stories.tsx":537,"./Timeline.stories.tsx":538};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1025},1026:function(module,exports){function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,module.exports=webpackEmptyContext,webpackEmptyContext.id=1026},1036:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,"parameters",(function(){return parameters}));__webpack_require__(24),__webpack_require__(4),__webpack_require__(63),__webpack_require__(513),__webpack_require__(158),__webpack_require__(43),__webpack_require__(969),__webpack_require__(970),__webpack_require__(512);var client_api=__webpack_require__(81),esm=__webpack_require__(8),parameters={controls:{disabled:!0},actions:{disabled:!0}};function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":case"argTypes":return esm.a.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify(value));case"decorators":return value.forEach((function(decorator){return Object(client_api.c)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return Object(client_api.d)(loader,!1)}));case"parameters":return Object(client_api.e)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return Object(client_api.a)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return Object(client_api.b)(enhancer)}));case"render":return Object(client_api.g)(value);case"globals":case"globalTypes":var v={};return v[key]=value,Object(client_api.e)(v,!1);default:return console.log(key+" was not supported :( !")}}))},127:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return composer_PlayerContextProvider})),__webpack_require__.d(__webpack_exports__,"b",(function(){return composer_Player})),__webpack_require__.d(__webpack_exports__,"d",(function(){return composer_Timeline})),__webpack_require__.d(__webpack_exports__,"a",(function(){return composer_PlayDeck}));__webpack_require__(24),__webpack_require__(99),__webpack_require__(4),__webpack_require__(98),__webpack_require__(12),__webpack_require__(10),__webpack_require__(20),__webpack_require__(14),__webpack_require__(15),__webpack_require__(17),__webpack_require__(16),__webpack_require__(9),__webpack_require__(25);var react=__webpack_require__(0),react_default=__webpack_require__.n(react),core_PlayDeck=__webpack_require__(193).b;try{PlayDeck.displayName="PlayDeck",PlayDeck.__docgenInfo={description:"",displayName:"PlayDeck",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},playing:{defaultValue:null,description:"",name:"playing",required:!1,type:{name:"boolean"}},onPlay:{defaultValue:null,description:"",name:"onPlay",required:!1,type:{name:"(() => void)"}},onSkipPrev:{defaultValue:null,description:"",name:"onSkipPrev",required:!1,type:{name:"(() => void)"}},disablePrev:{defaultValue:{value:"false"},description:"",name:"disablePrev",required:!1,type:{name:"boolean"}},onSkipNext:{defaultValue:null,description:"",name:"onSkipNext",required:!1,type:{name:"(() => void)"}},disableNext:{defaultValue:{value:"false"},description:"",name:"disableNext",required:!1,type:{name:"boolean"}},loopType:{defaultValue:null,description:"",name:"loopType",required:!1,type:{name:"enum",value:[{value:'"off"'},{value:'"loopCurrent"'},{value:'"loopAll"'}]}},onToggleLoop:{defaultValue:null,description:"",name:"onToggleLoop",required:!1,type:{name:"(() => void)"}},themeColor:{defaultValue:{value:"white"},description:"",name:"themeColor",required:!1,type:{name:"string"}},iconSize:{defaultValue:{value:"undefined"},description:"",name:"iconSize",required:!1,type:{name:"enum",value:[{value:'"large"'},{value:'"medium"'},{value:'"small"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component/core/PlayDeck/index.tsx#PlayDeck"]={docgenInfo:PlayDeck.__docgenInfo,name:"PlayDeck",path:"src/component/core/PlayDeck/index.tsx#PlayDeck"})}catch(__react_docgen_typescript_loader_error){}var Timeline_Timeline=__webpack_require__(287),RPlayer=__webpack_require__(288),jsx_runtime=__webpack_require__(1),_excluded=["value"];function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var PlayerContext=react_default.a.createContext({mediaList:[],mediaIndex:0,setMediaIndex:function setMediaIndex(){},playing:!1,setPlaying:function setPlaying(){},seekTime:void 0,setSeekTime:function setSeekTime(){},playerState:{played:0,loaded:0},setPlayerState:function setPlayerState(){}}),composer_PlayerContextProvider=function PlayerContextProvider(_ref){var _ref$value=_ref.value,_ref$value$mediaList=_ref$value.mediaList,mediaList=void 0===_ref$value$mediaList?[]:_ref$value$mediaList,_ref$value$mediaIndex=_ref$value.mediaIndex,mediaIndex=void 0===_ref$value$mediaIndex?0:_ref$value$mediaIndex,_ref$value$setMediaIn=_ref$value.setMediaIndex,setMediaIndex=void 0===_ref$value$setMediaIn?function(){}:_ref$value$setMediaIn,props=_objectWithoutProperties(_ref,_excluded),_useState2=_slicedToArray(Object(react.useState)(),2),seekTime=_useState2[0],setSeekTime=_useState2[1],_useState4=_slicedToArray(Object(react.useState)(!1),2),playing=_useState4[0],setPlaying=_useState4[1],_useState6=_slicedToArray(Object(react.useState)({played:0,loaded:0}),2),playerState=_useState6[0],setPlayerState=_useState6[1];return Object(jsx_runtime.jsx)(PlayerContext.Provider,{value:{mediaList:mediaList,mediaIndex:mediaIndex,setMediaIndex:setMediaIndex,playing:playing,setPlaying:setPlaying,seekTime:seekTime,setSeekTime:setSeekTime,playerState:playerState,setPlayerState:setPlayerState},children:props.children})};composer_PlayerContextProvider.displayName="PlayerContextProvider";var composer_Player=function Player(){var ctx=react_default.a.useContext(PlayerContext);return Object(jsx_runtime.jsx)(RPlayer.a,{url:ctx.mediaList[ctx.mediaIndex].url,playing:ctx.playing,onPlay:function onPlay(){return ctx.setPlaying(!0)},onPause:function onPause(){return ctx.setPlaying(!1)},onProgressHiFi:function onProgressHiFi(s){ctx.setPlayerState(s)},seekTime:ctx.seekTime,onEnded:function onEnded(){return ctx.setPlaying(!1)}})};composer_Player.displayName="Player";var composer_Timeline=function Timeline(){var ctx=react_default.a.useContext(PlayerContext),showTimeline="number"==typeof ctx.playerState.loaded&&0!==ctx.playerState.loaded||"number"==typeof ctx.playerState.played&&0!==ctx.playerState.played;return Object(jsx_runtime.jsx)("div",{style:{display:showTimeline?void 0:"none"},children:Object(jsx_runtime.jsx)(Timeline_Timeline.a,{currentTime:ctx.playerState.played,duration:ctx.mediaList[ctx.mediaIndex].duration,onTimelineSeek:ctx.setSeekTime,onTimelineCaptured:function onTimelineCaptured(captured){captured||ctx.setSeekTime(void 0)}})})};composer_Timeline.displayName="Timeline";var composer_PlayDeck=function PlayDeck(){return Object(jsx_runtime.jsx)(PlayerContext.Consumer,{children:function children(ctx){return Object(jsx_runtime.jsx)(core_PlayDeck,{playing:ctx.playing,onPlay:function onPlay(){return ctx.setPlaying(!ctx.playing)},onSkipNext:function onSkipNext(){ctx.setMediaIndex((ctx.mediaIndex+1)%ctx.mediaList.length)},onSkipPrev:function onSkipPrev(){ctx.setMediaIndex((ctx.mediaIndex-1+ctx.mediaList.length)%ctx.mediaList.length)}})}})};composer_PlayDeck.displayName="PlayDeck";try{composer_PlayerContextProvider.displayName="PlayerContextProvider",composer_PlayerContextProvider.__docgenInfo={description:"",displayName:"PlayerContextProvider",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"Partial<playerContextInteface>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component/core/MediaPlayer/composer.tsx#PlayerContextProvider"]={docgenInfo:composer_PlayerContextProvider.__docgenInfo,name:"PlayerContextProvider",path:"src/component/core/MediaPlayer/composer.tsx#PlayerContextProvider"})}catch(__react_docgen_typescript_loader_error){}},139:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return usePreventDefaultBrowserTouch})),__webpack_require__.d(__webpack_exports__,"c",(function(){return usePreventDefaultBrowserWheel})),__webpack_require__.d(__webpack_exports__,"a",(function(){return isTablet}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),usePreventDefaultBrowserTouch=function usePreventDefaultBrowserTouch(ref,event){Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){var _ref$current;null===(_ref$current=ref.current)||void 0===_ref$current||_ref$current.addEventListener(event||"touchstart",(function(evt){evt.preventDefault()}),!1)}),[])},usePreventDefaultBrowserWheel=function usePreventDefaultBrowserWheel(ref){Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){var _ref$current2;null===(_ref$current2=ref.current)||void 0===_ref$current2||_ref$current2.addEventListener("wheel",(function(evt){evt.preventDefault()}),!1)}),[])};var userAgent=navigator.userAgent.toLowerCase(),isTablet=function isTablet(){return/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(userAgent)||function isIOS(){return navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&/Mac/.test(navigator.userAgent)}()}},140:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return PanZoom_PanZoomOverlay})),__webpack_require__.d(__webpack_exports__,"a",(function(){return PanZoom_PanZoomContent}));__webpack_require__(24),__webpack_require__(99),__webpack_require__(4),__webpack_require__(98),__webpack_require__(12),__webpack_require__(10),__webpack_require__(20),__webpack_require__(14),__webpack_require__(15),__webpack_require__(17),__webpack_require__(16),__webpack_require__(9),__webpack_require__(25),__webpack_require__(13);var react=__webpack_require__(0),react_default=__webpack_require__.n(react),utils=(__webpack_require__(463),__webpack_require__(168),__webpack_require__(75));function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var getNewPosition=function getNewPosition(posOri,pointerPosOri,scaleOri,pointerPosNow,scaleNow){return pointerPosNow-(pointerPosOri-posOri)/scaleOri*scaleNow},browser=(__webpack_require__(974),__webpack_require__(139)),jsx_runtime=__webpack_require__(1),_excluded=["disabled","zoomBounds"],_excluded2=["inProgress"],_excluded3=["inProgress"];function PanZoom_slicedToArray(arr,i){return function PanZoom_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function PanZoom_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function PanZoom_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return PanZoom_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PanZoom_arrayLikeToArray(o,minLen)}(arr,i)||function PanZoom_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function PanZoom_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var PanZoomContext=react_default.a.createContext({inProgress:!1,contentSize:{width:10,height:10},setContentSize:function setContentSize(_s){},containerSize:{width:10,height:10},panZoom:{x:0,y:0,scale:1}}),PanZoom_PanZoomOverlay=function PanZoomOverlay(props){var ctx=Object(react.useContext)(PanZoomContext);return Object(jsx_runtime.jsx)("div",{className:"panzoom_overlay",style:{pointerEvents:props.pointerEventPassthrough?"none":void 0},children:props.render(ctx.panZoom,ctx.contentSize,ctx.containerSize,ctx.inProgress)})};PanZoom_PanZoomOverlay.displayName="PanZoomOverlay";var PanZoom_PanZoomContent=function PanZoomContent(props){var ctx=Object(react.useContext)(PanZoomContext);return Object(jsx_runtime.jsx)("div",{style:Object.assign({transformOrigin:"left top",transform:"translate("+ctx.panZoom.x+"px, "+ctx.panZoom.y+"px) scale("+ctx.panZoom.scale+")",position:"relative"},ctx.contentSize),children:props.normalizeRes?props.render((function(s){ctx.setContentSize(Object(utils.g)(s,props.normalizeRes))})):props.render(ctx.setContentSize)})};PanZoom_PanZoomContent.displayName="PanZoomContent";var PanZoom_PanZoom=function PanZoom(_ref){var _ref$disabled=_ref.disabled,disabled=void 0!==_ref$disabled&&_ref$disabled,_ref$zoomBounds=_ref.zoomBounds,zoomBounds=void 0===_ref$zoomBounds?{min:.5,max:5}:_ref$zoomBounds,props=_objectWithoutProperties(_ref,_excluded),_useState2=PanZoom_slicedToArray(Object(react.useState)({x:0,y:0,scale:1}),2),panZoomState=_useState2[0],setPanZoomState=_useState2[1],contentFitSpecRef=Object(react.useRef)({fitSpec:{x:0,y:0,scale:1},min:1,max:1}),topContainerRef=react_default.a.useRef(null);Object(browser.b)(topContainerRef),Object(browser.c)(topContainerRef);var containerSize=function useMonitorResizable(ref){var _React$useState2=_slicedToArray(react_default.a.useState({width:10,height:10}),2),containerSize=_React$useState2[0],setContainerSize=_React$useState2[1];return react_default.a.useEffect((function(){var ro=new ResizeObserver((function(entries){entries.length>0&&setContainerSize({width:entries[0].contentRect.width,height:entries[0].contentRect.height})})),element=ref.current;return element&&ro.observe(element),function(){return ro.disconnect()}}),[ref]),containerSize}(topContainerRef),_useState4=PanZoom_slicedToArray(Object(react.useState)({width:10,height:10}),2),contentSize=_useState4[0],setContentSize=_useState4[1];Object(react.useLayoutEffect)((function(){var fitSpec=Object(utils.b)(contentSize,containerSize);contentFitSpecRef.current=Object.assign({fitSpec:fitSpec},zoomBounds),setPanZoomState(fitSpec)}),[contentSize,containerSize]);var _useTouchPanZoom=function useTouchPanZoom(panZoomState,setPanZoomState,contentFitSpec,disabled){var touchState=Object(react.useRef)(),_useState2=_slicedToArray(Object(react.useState)(!1),2),inProgress=_useState2[0],setInProgress=_useState2[1];return{onTouchStart:function onTouchStart(evt){disabled||(touchState.current={start:Object(utils.e)(evt),oriPanZoom:Object.assign({},panZoomState)})},onTouchEnd:function onTouchEnd(evt){0===evt.touches.length&&(touchState.current=void 0,setInProgress(!1))},onTouchMove:function handleTouchMove(evt){if(2===evt.touches.length&&touchState.current){setInProgress(!0);var oriPanZoom=touchState.current.oriPanZoom,touchesStart=touchState.current.start,touchesNow=Object(utils.e)(evt),startMid=Object(utils.d)([touchesStart[0],touchesStart[1]]),nowMid=Object(utils.d)(touchesNow),distancePrev=Object(utils.c)([touchesStart[0],touchesStart[1]]),scale=Object(utils.c)(touchesNow)/distancePrev*oriPanZoom.scale;scale=Math.min(contentFitSpec.current.max*contentFitSpec.current.fitSpec.scale,Math.max(contentFitSpec.current.min*contentFitSpec.current.fitSpec.scale,scale));var x=getNewPosition(oriPanZoom.x,startMid[0],oriPanZoom.scale,nowMid[0],scale),y=getNewPosition(oriPanZoom.y,startMid[1],oriPanZoom.scale,nowMid[1],scale);setPanZoomState({x:x,y:y,scale:scale})}},inProgress:inProgress}}(panZoomState,setPanZoomState,contentFitSpecRef,disabled),touchCaptured=_useTouchPanZoom.inProgress,touchHandlers=_objectWithoutProperties(_useTouchPanZoom,_excluded2),wheelHandler=function useWheelZoom(panZoomState,setPanZoomState,contentFitSpec,disabled){return{onWheel:function handleWheel(evt){if(!disabled){var coords=Object(utils.a)(evt,evt.currentTarget.getBoundingClientRect()),scaleDelta=-.01*evt.deltaY,scale=panZoomState.scale+scaleDelta;scale=Math.min(contentFitSpec.current.max*contentFitSpec.current.fitSpec.scale,Math.max(contentFitSpec.current.min*contentFitSpec.current.fitSpec.scale,scale));var x=getNewPosition(panZoomState.x,coords.x,panZoomState.scale,coords.x,scale),y=getNewPosition(panZoomState.y,coords.y,panZoomState.scale,coords.y,scale);0!==evt.deltaX||Number.isInteger(evt.deltaY)||setPanZoomState({x:x,y:y,scale:scale})}}}}(panZoomState,setPanZoomState,contentFitSpecRef),_usePointerPan=function usePointerPan(panZoomState,setPanZoomState,disabled){var pointerState=Object(react.useRef)(),_useState4=_slicedToArray(Object(react.useState)(!1),2),inProgress=_useState4[0],setInProgress=_useState4[1];return{onPointerDown:function onPointerDown(evt){if(!(disabled&&0===evt.button||2===evt.button)){var coords=Object(utils.a)(evt,evt.currentTarget.getBoundingClientRect());setInProgress(!0),pointerState.current={start:coords,oriPanZoom:Object.assign({},panZoomState)}}},onPointerUp:function onPointerUp(){pointerState.current=void 0,setInProgress(!1)},onPointerMove:function onPointerMove(evt){if(!(disabled&&0===evt.button||2===evt.button)){var coords=Object(utils.a)(evt,evt.currentTarget.getBoundingClientRect());if(pointerState.current){var x=getNewPosition(pointerState.current.oriPanZoom.x,pointerState.current.start.x,pointerState.current.oriPanZoom.scale,coords.x,panZoomState.scale),y=getNewPosition(pointerState.current.oriPanZoom.y,pointerState.current.start.y,pointerState.current.oriPanZoom.scale,coords.y,panZoomState.scale);setPanZoomState({x:x,y:y,scale:panZoomState.scale})}}},inProgress:inProgress}}(panZoomState,setPanZoomState,disabled||touchCaptured),pointerHandler=(_usePointerPan.inProgress,_objectWithoutProperties(_usePointerPan,_excluded3));return Object(react.useEffect)((function(){props.onPanZoom&&props.onPanZoom(panZoomState)}),[panZoomState]),Object(jsx_runtime.jsx)("div",Object.assign({ref:topContainerRef,className:"panzoom_top_container"},touchHandlers,wheelHandler,pointerHandler,{children:Object(jsx_runtime.jsx)(PanZoomContext.Provider,{value:{panZoom:panZoomState,inProgress:touchCaptured,containerSize:containerSize,contentSize:contentSize,setContentSize:setContentSize},children:props.children})}))};__webpack_exports__.c=PanZoom_PanZoom;try{PanZoom_PanZoomOverlay.displayName="PanZoomOverlay",PanZoom_PanZoomOverlay.__docgenInfo={description:"",displayName:"PanZoomOverlay",props:{render:{defaultValue:null,description:"",name:"render",required:!0,type:{name:"(panZoom: PanZoomSpec, contentSize: RectSize, containerSize: RectSize, inProgress: boolean) => Element"}},pointerEventPassthrough:{defaultValue:null,description:"",name:"pointerEventPassthrough",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component/core/PanZoom/PanZoom.tsx#PanZoomOverlay"]={docgenInfo:PanZoom_PanZoomOverlay.__docgenInfo,name:"PanZoomOverlay",path:"src/component/core/PanZoom/PanZoom.tsx#PanZoomOverlay"})}catch(__react_docgen_typescript_loader_error){}try{PanZoom_PanZoomContent.displayName="PanZoomContent",PanZoom_PanZoomContent.__docgenInfo={description:"",displayName:"PanZoomContent",props:{render:{defaultValue:null,description:"",name:"render",required:!0,type:{name:"(setContentSize: (s: RectSize) => void) => Element"}},normalizeRes:{defaultValue:null,description:"",name:"normalizeRes",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component/core/PanZoom/PanZoom.tsx#PanZoomContent"]={docgenInfo:PanZoom_PanZoomContent.__docgenInfo,name:"PanZoomContent",path:"src/component/core/PanZoom/PanZoom.tsx#PanZoomContent"})}catch(__react_docgen_typescript_loader_error){}try{PanZoom_PanZoom.displayName="PanZoom",PanZoom_PanZoom.__docgenInfo={description:"",displayName:"PanZoom",props:{disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!1,type:{name:"boolean"}},zoomBounds:{defaultValue:{value:"{ min: 0.5, max: 5 }"},description:"",name:"zoomBounds",required:!1,type:{name:"{ min: number; max: number; }"}},onPanZoom:{defaultValue:null,description:"",name:"onPanZoom",required:!1,type:{name:"((p: PanZoomSpec) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component/core/PanZoom/PanZoom.tsx#PanZoom"]={docgenInfo:PanZoom_PanZoom.__docgenInfo,name:"PanZoom",path:"src/component/core/PanZoom/PanZoom.tsx#PanZoom"})}catch(__react_docgen_typescript_loader_error){}},164:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return sampleAnnotations}));__webpack_require__(13);var sampleRectElement={id:"rect1_id",etype:"Rect",transformMatrix:[1,0,0,1,100,100],fill:"",stroke:"pink",strokeWidth:3,width:100,height:100},sampleAnnotations=[sampleRectElement,Object.assign({},sampleRectElement,{id:"rect2_id",stroke:"Indigo",transformMatrix:[1,0,0,1,180,140],width:150,height:100}),{id:"circle_id",etype:"Circle",transformMatrix:[1,0,0,1,50,50],radius:30,fill:"",stroke:"MediumSeaGreen",strokeWidth:5},{id:"textbox_id",etype:"Textbox",transformMatrix:[1,0,0,1,150,200],text:"hello, world!",fontSize:25,fontFamily:"Times New Roman",fill:"rgba(255,255,122,0.8)",width:200},{id:"path_id",etype:"Path",transformMatrix:[1,0,0,1,290,150],stroke:"DodgerBlue",strokeWidth:3,fill:"",path:"M 0 0 L 200 100 L 170 200 z"}]},192:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return StoryHint})),__webpack_require__.d(__webpack_exports__,"b",(function(){return getAnnotateKnobs}));__webpack_require__(24),__webpack_require__(99),__webpack_require__(4);var _storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(50),_component_utils_browser__WEBPACK_IMPORTED_MODULE_5__=(__webpack_require__(0),__webpack_require__(139)),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1),_excluded=["hint","width"];function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var StoryHint=function StoryHint(_ref){var _ref$hint=_ref.hint,hint=void 0===_ref$hint?"Some description about this story.":_ref$hint,props=(_ref.width,_objectWithoutProperties(_ref,_excluded)),displayHintKnob=Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_3__.boolean)("Show Hint",!0);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{style:{display:"flex",flexFlow:"row wrap",height:"100vh",maxHeight:Object(_component_utils_browser__WEBPACK_IMPORTED_MODULE_5__.a)()?"650px":void 0},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{id:"side_panel",style:{background:"gray",width:displayHintKnob?150:0,height:"100%",transition:"0.25s",overflow:"hidden",transitionTimingFunction:"ease-out"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{style:{width:150,boxSizing:"border-box",padding:5},children:hint})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{style:{flexGrow:1,position:"relative"},children:props.children})]})};StoryHint.displayName="StoryHint";var getAnnotateKnobs=function getAnnotateKnobs(){return{resolutionKnob:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_3__.select)("Annotate resolution",[800,1280,1920],800),modeKnob:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_3__.optionsKnob)("Mode",{PanZoom:"panZoom",Selection:"selection",Annotate:"draw"},"panZoom",{display:"inline-radio"})}};try{StoryHint.displayName="StoryHint",StoryHint.__docgenInfo={description:"",displayName:"StoryHint",props:{hint:{defaultValue:{value:"Some description about this story."},description:"",name:"hint",required:!1,type:{name:"Element"}},width:{defaultValue:{value:"150"},description:"",name:"width",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/component/utils.tsx#StoryHint"]={docgenInfo:StoryHint.__docgenInfo,name:"StoryHint",path:"src/stories/component/utils.tsx#StoryHint"})}catch(__react_docgen_typescript_loader_error){}},193:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return LOOP_TYPE_LIST}));__webpack_require__(24),__webpack_require__(99),__webpack_require__(4),__webpack_require__(0);var _mui_icons_material_PlayArrow__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(562),_mui_icons_material_PlayArrow__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_mui_icons_material_PlayArrow__WEBPACK_IMPORTED_MODULE_4__),_mui_icons_material_Pause__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(561),_mui_icons_material_Pause__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_mui_icons_material_Pause__WEBPACK_IMPORTED_MODULE_5__),_mui_icons_material_SkipNext__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(563),_mui_icons_material_SkipNext__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_mui_icons_material_SkipNext__WEBPACK_IMPORTED_MODULE_6__),_mui_icons_material_SkipPrevious__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(559),_mui_icons_material_SkipPrevious__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_mui_icons_material_SkipPrevious__WEBPACK_IMPORTED_MODULE_7__),_mui_icons_material_Loop__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(564),_mui_icons_material_Loop__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(_mui_icons_material_Loop__WEBPACK_IMPORTED_MODULE_8__),_mui_material__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(106),_mui_material__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(1041),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__=(__webpack_require__(985),__webpack_require__(1)),_excluded=["disablePrev","disableNext","themeColor","iconSize"];function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var LOOP_TYPE_LIST=["off","loopCurrent","loopAll"],PlayDeck=function PlayDeck(_ref){var _ref$disablePrev=_ref.disablePrev,disablePrev=void 0!==_ref$disablePrev&&_ref$disablePrev,_ref$disableNext=_ref.disableNext,disableNext=void 0!==_ref$disableNext&&_ref$disableNext,_ref$themeColor=_ref.themeColor,themeColor=void 0===_ref$themeColor?"white":_ref$themeColor,_ref$iconSize=_ref.iconSize,iconSize=void 0===_ref$iconSize?void 0:_ref$iconSize,props=_objectWithoutProperties(_ref,_excluded);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)("div",{className:"playDeck",children:[props.onSkipPrev&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_9__.a,{size:iconSize,onClick:props.onSkipPrev,disabled:disablePrev,style:{color:themeColor},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_mui_icons_material_SkipPrevious__WEBPACK_IMPORTED_MODULE_7___default.a,{})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_9__.a,{size:iconSize,onClick:props.onPlay,style:{color:themeColor},children:props.playing?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_mui_icons_material_Pause__WEBPACK_IMPORTED_MODULE_5___default.a,{}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_mui_icons_material_PlayArrow__WEBPACK_IMPORTED_MODULE_4___default.a,{})}),props.onSkipNext&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_9__.a,{size:iconSize,onClick:props.onSkipNext,disabled:disableNext,style:{color:themeColor},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_mui_icons_material_SkipNext__WEBPACK_IMPORTED_MODULE_6___default.a,{})}),props.onToggleLoop&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_9__.a,{size:"small",onClick:props.onToggleLoop,title:props.loopType,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_10__.a,{badgeContent:"loopCurrent"===props.loopType?1:null,style:{color:"off"===props.loopType?void 0:themeColor},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_mui_icons_material_Loop__WEBPACK_IMPORTED_MODULE_8___default.a,{style:{fill:"off"===props.loopType?void 0:themeColor}})})})]})};PlayDeck.displayName="PlayDeck",__webpack_exports__.b=PlayDeck;try{PlayDeck.displayName="PlayDeck",PlayDeck.__docgenInfo={description:"",displayName:"PlayDeck",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},playing:{defaultValue:null,description:"",name:"playing",required:!1,type:{name:"boolean"}},onPlay:{defaultValue:null,description:"",name:"onPlay",required:!1,type:{name:"(() => void)"}},onSkipPrev:{defaultValue:null,description:"",name:"onSkipPrev",required:!1,type:{name:"(() => void)"}},disablePrev:{defaultValue:{value:"false"},description:"",name:"disablePrev",required:!1,type:{name:"boolean"}},onSkipNext:{defaultValue:null,description:"",name:"onSkipNext",required:!1,type:{name:"(() => void)"}},disableNext:{defaultValue:{value:"false"},description:"",name:"disableNext",required:!1,type:{name:"boolean"}},loopType:{defaultValue:null,description:"",name:"loopType",required:!1,type:{name:"enum",value:[{value:'"off"'},{value:'"loopCurrent"'},{value:'"loopAll"'}]}},onToggleLoop:{defaultValue:null,description:"",name:"onToggleLoop",required:!1,type:{name:"(() => void)"}},themeColor:{defaultValue:{value:"white"},description:"",name:"themeColor",required:!1,type:{name:"string"}},iconSize:{defaultValue:{value:"undefined"},description:"",name:"iconSize",required:!1,type:{name:"enum",value:[{value:'"large"'},{value:'"medium"'},{value:'"small"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component/core/PlayDeck/PlayDeck.tsx#PlayDeck"]={docgenInfo:PlayDeck.__docgenInfo,name:"PlayDeck",path:"src/component/core/PlayDeck/PlayDeck.tsx#PlayDeck"})}catch(__react_docgen_typescript_loader_error){}},195:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return elementsActionReducer}));__webpack_require__(29),__webpack_require__(30),__webpack_require__(13),__webpack_require__(66),__webpack_require__(99),__webpack_require__(158),__webpack_require__(43),__webpack_require__(1007),__webpack_require__(366),__webpack_require__(98),__webpack_require__(4),__webpack_require__(12),__webpack_require__(10),__webpack_require__(20),__webpack_require__(14),__webpack_require__(15),__webpack_require__(17),__webpack_require__(25),__webpack_require__(16),__webpack_require__(9);function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function elementsActionReducer(state,action){switch(action.type){case"addElement":if(!action.newElement.id)throw Error("Unexpected add element with no new id: "+action.newElement);return[].concat(_toConsumableArray(state),[action.newElement]);case"changeElement":return state.map((function(element){return element.id===action.elementUpdates.id?Object.assign({},element,action.elementUpdates):element}));case"removeElement":var removeIndex=state.reduce((function(a,c,index){return-1!==action.removeIds.indexOf(c.id)&&a.push(index),a}),[]),updatedElements=_toConsumableArray(state);return removeIndex.reverse().forEach((function(removeIndex){updatedElements.splice(removeIndex,1)})),updatedElements}}},222:function(module,__webpack_exports__,__webpack_require__){"use strict";var _PanZoom__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(140);__webpack_exports__.a=_PanZoom__WEBPACK_IMPORTED_MODULE_0__.c;try{PanZoom.displayName="PanZoom",PanZoom.__docgenInfo={description:"",displayName:"PanZoom",props:{disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!1,type:{name:"boolean"}},zoomBounds:{defaultValue:{value:"{ min: 0.5, max: 5 }"},description:"",name:"zoomBounds",required:!1,type:{name:"{ min: number; max: number; }"}},onPanZoom:{defaultValue:null,description:"",name:"onPanZoom",required:!1,type:{name:"((p: PanZoomSpec) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component/core/PanZoom/index.tsx#PanZoom"]={docgenInfo:PanZoom.__docgenInfo,name:"PanZoom",path:"src/component/core/PanZoom/index.tsx#PanZoom"})}catch(__react_docgen_typescript_loader_error){}},223:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(13);var react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),_mui_material__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(584),_utils_browser__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__(528),__webpack_require__(139)),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1),BrushTools=function BrushTools(props){var divRef=react__WEBPACK_IMPORTED_MODULE_1___default.a.useRef(null);return Object(_utils_browser__WEBPACK_IMPORTED_MODULE_4__.b)(divRef),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:"brush_tools",ref:divRef,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:"brush_tools_bar",children:"Textbox"===props.uiState.shape?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_2__.a,{value:props.uiState.fontSize,orientation:"vertical",min:1,max:100,onChange:function onChange(_evt,value){props.setUIState(Object.assign({},props.uiState,{fontSize:value}))}}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_2__.a,{orientation:"vertical",value:props.uiState.strokeWidth,onChange:function onChange(_evt,value){props.setUIState(Object.assign({},props.uiState,{strokeWidth:value}))},min:1,max:40})})})};BrushTools.displayName="BrushTools",__webpack_exports__.a=BrushTools;try{BrushTools.displayName="BrushTools",BrushTools.__docgenInfo={description:"",displayName:"BrushTools",props:{uiState:{defaultValue:null,description:"",name:"uiState",required:!0,type:{name:"UserControllerInputs"}},setUIState:{defaultValue:null,description:"",name:"setUIState",required:!0,type:{name:"(u: UserControllerInputs) => void"}},iconSize:{defaultValue:null,description:"",name:"iconSize",required:!1,type:{name:"enum",value:[{value:'"large"'},{value:'"medium"'},{value:'"small"'}]}},themeColor:{defaultValue:null,description:"",name:"themeColor",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component/core/AnnotateCanvas/UI/BrushTools.tsx#BrushTools"]={docgenInfo:BrushTools.__docgenInfo,name:"BrushTools",path:"src/component/core/AnnotateCanvas/UI/BrushTools.tsx#BrushTools"})}catch(__react_docgen_typescript_loader_error){}},224:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(1009),__webpack_require__(10),__webpack_require__(109),__webpack_require__(529),__webpack_require__(13),__webpack_require__(98),__webpack_require__(4),__webpack_require__(12),__webpack_require__(20),__webpack_require__(14),__webpack_require__(15),__webpack_require__(17),__webpack_require__(16),__webpack_require__(9),__webpack_require__(25);var react__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_15__),_mui_icons_material_CircleOutlined__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(575),_mui_icons_material_CircleOutlined__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(_mui_icons_material_CircleOutlined__WEBPACK_IMPORTED_MODULE_16__),_mui_icons_material_Circle__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(578),_mui_icons_material_Circle__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(_mui_icons_material_Circle__WEBPACK_IMPORTED_MODULE_17__),_mui_icons_material_RectangleOutlined__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(576),_mui_icons_material_RectangleOutlined__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(_mui_icons_material_RectangleOutlined__WEBPACK_IMPORTED_MODULE_18__),_mui_icons_material_HighlightAltOutlined__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(573),_mui_icons_material_HighlightAltOutlined__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(_mui_icons_material_HighlightAltOutlined__WEBPACK_IMPORTED_MODULE_19__),_mui_icons_material_PanTool__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(579),_mui_icons_material_PanTool__WEBPACK_IMPORTED_MODULE_20___default=__webpack_require__.n(_mui_icons_material_PanTool__WEBPACK_IMPORTED_MODULE_20__),_mui_icons_material_Create__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(574),_mui_icons_material_Create__WEBPACK_IMPORTED_MODULE_21___default=__webpack_require__.n(_mui_icons_material_Create__WEBPACK_IMPORTED_MODULE_21__),_mui_icons_material_Title__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(577),_mui_icons_material_Title__WEBPACK_IMPORTED_MODULE_22___default=__webpack_require__.n(_mui_icons_material_Title__WEBPACK_IMPORTED_MODULE_22__),_mui_icons_material_Visibility__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(571),_mui_icons_material_Visibility__WEBPACK_IMPORTED_MODULE_23___default=__webpack_require__.n(_mui_icons_material_Visibility__WEBPACK_IMPORTED_MODULE_23__),_mui_icons_material_VisibilityOff__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(572),_mui_icons_material_VisibilityOff__WEBPACK_IMPORTED_MODULE_24___default=__webpack_require__.n(_mui_icons_material_VisibilityOff__WEBPACK_IMPORTED_MODULE_24__),react_color__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(580),_mui_material__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(106),_utils_browser__WEBPACK_IMPORTED_MODULE_28__=(__webpack_require__(528),__webpack_require__(139)),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(1);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var colorPickerStyles={default:{picker:{background:"#222e",backdropFilter:"blur(3px)",borderRadius:"10px 10px 10px 10px",border:"0px",boxShadow:void 0}}},colorResultToString=function colorResultToString(v){return""+v.hex+Math.round(255*v.rgb.a).toString(16).padStart(2,"0")},EditTools=function EditTools(_ref){var uiState=_ref.uiState,setUIState=_ref.setUIState,_ref$themeColor=_ref.themeColor,themeColor=void 0===_ref$themeColor?"#fff7":_ref$themeColor,_ref$iconSize=_ref.iconSize,iconSize=void 0===_ref$iconSize?"large":_ref$iconSize,divRef=react__WEBPACK_IMPORTED_MODULE_15___default.a.useRef(null);Object(_utils_browser__WEBPACK_IMPORTED_MODULE_28__.b)(divRef,"touchmove");var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_15__.useState)(!1),2),showColorPicker=_useState2[0],setShowColorPicker=_useState2[1],_useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_15__.useState)(""),2),tempColor=_useState4[0],setTempColor=_useState4[1],mode=uiState.mode,shape=uiState.shape,showAnnotation=uiState.showAnnotation;return Object(react__WEBPACK_IMPORTED_MODULE_15__.useEffect)((function(){showColorPicker&&setTempColor(uiState.color)}),[showColorPicker]),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsxs)("div",{className:"edit_tools",ref:divRef,children:[showColorPicker&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsx)("div",{onPointerDown:function onPointerDown(){setShowColorPicker(!1)},onTouchStart:function onTouchStart(){setShowColorPicker(!1)},style:{pointerEvents:"auto",position:"fixed",top:"0px",left:"0px",right:"0px",bottom:"0px"}}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsxs)("div",{className:"edit_tools_bar",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_26__.a,{size:iconSize,style:{color:showAnnotation?themeColor:"red"},onPointerDown:function onPointerDown(){setUIState(Object.assign({},uiState,{showAnnotation:!uiState.showAnnotation}))},children:showAnnotation?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsx)(_mui_icons_material_Visibility__WEBPACK_IMPORTED_MODULE_23___default.a,{}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsx)(_mui_icons_material_VisibilityOff__WEBPACK_IMPORTED_MODULE_24___default.a,{})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsx)("div",{className:"icon_divider"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_26__.a,{color:"selection"===mode?"primary":void 0,size:iconSize,style:{color:"selection"!==mode?themeColor:void 0},onPointerDown:function onPointerDown(){setUIState(Object.assign({},uiState,{mode:"selection"}))},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsx)(_mui_icons_material_HighlightAltOutlined__WEBPACK_IMPORTED_MODULE_19___default.a,{})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_26__.a,{color:"draw"===mode&&"Path"===shape?"primary":void 0,size:iconSize,style:{color:"draw"!==mode||"Path"!==shape?themeColor:void 0},onPointerDown:function onPointerDown(){setUIState(Object.assign({},uiState,{mode:"draw",shape:"Path"}))},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsx)(_mui_icons_material_Create__WEBPACK_IMPORTED_MODULE_21___default.a,{})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_26__.a,{color:"draw"===mode&&"Ellipse"===shape?"primary":void 0,style:{color:"draw"!==mode||"Ellipse"!==shape?themeColor:void 0},size:iconSize,onPointerDown:function onPointerDown(){setUIState(Object.assign({},uiState,{mode:"draw",shape:"Ellipse"}))},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsx)(_mui_icons_material_CircleOutlined__WEBPACK_IMPORTED_MODULE_16___default.a,{})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_26__.a,{color:"draw"===mode&&"Rect"===shape?"primary":void 0,style:{color:"draw"!==mode||"Rect"!==shape?themeColor:void 0},size:iconSize,onPointerDown:function onPointerDown(){setUIState(Object.assign({},uiState,{mode:"draw",shape:"Rect"}))},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsx)(_mui_icons_material_RectangleOutlined__WEBPACK_IMPORTED_MODULE_18___default.a,{})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_26__.a,{color:"draw"===mode&&"Textbox"===shape?"primary":void 0,style:{color:"draw"!==mode||"Textbox"!==shape?themeColor:void 0},size:iconSize,onPointerDown:function onPointerDown(){setUIState(Object.assign({},uiState,{mode:"draw",shape:"Textbox"}))},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsx)(_mui_icons_material_Title__WEBPACK_IMPORTED_MODULE_22___default.a,{})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_26__.a,{style:{color:uiState.color,opacity:1},size:iconSize,onPointerDown:function onPointerDown(){return setShowColorPicker(!0)},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsx)(_mui_icons_material_Circle__WEBPACK_IMPORTED_MODULE_17___default.a,{})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsx)(_mui_material__WEBPACK_IMPORTED_MODULE_26__.a,{color:"panZoom"===mode?"primary":void 0,style:{color:"panZoom"!==mode?themeColor:void 0},size:iconSize,onPointerDown:function onPointerDown(){setUIState(Object.assign({},uiState,{mode:"panZoom"}))},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsx)(_mui_icons_material_PanTool__WEBPACK_IMPORTED_MODULE_20___default.a,{fontSize:"medium"})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsx)("div",{style:{display:showColorPicker?"block":"none",position:"absolute",top:"55px",right:"0px"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_29__.jsx)(react_color__WEBPACK_IMPORTED_MODULE_25__.a,{color:tempColor,styles:colorPickerStyles,onChange:function onChange(v){setTempColor(colorResultToString(v))},onChangeComplete:function onChangeComplete(v){setUIState(Object.assign({},uiState,{color:colorResultToString(v)}))},presetColors:[]})})]})]})};EditTools.displayName="EditTools",__webpack_exports__.a=EditTools;try{EditTools.displayName="EditTools",EditTools.__docgenInfo={description:"",displayName:"EditTools",props:{uiState:{defaultValue:null,description:"",name:"uiState",required:!0,type:{name:"UserControllerInputs"}},setUIState:{defaultValue:null,description:"",name:"setUIState",required:!0,type:{name:"(u: UserControllerInputs) => void"}},iconSize:{defaultValue:{value:"large"},description:"",name:"iconSize",required:!1,type:{name:"enum",value:[{value:'"large"'},{value:'"medium"'},{value:'"small"'}]}},themeColor:{defaultValue:{value:"#fff7"},description:"",name:"themeColor",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component/core/AnnotateCanvas/UI/EditTools.tsx#EditTools"]={docgenInfo:EditTools.__docgenInfo,name:"EditTools",path:"src/component/core/AnnotateCanvas/UI/EditTools.tsx#EditTools"})}catch(__react_docgen_typescript_loader_error){}},225:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(24),__webpack_require__(99),__webpack_require__(4),__webpack_require__(98),__webpack_require__(12),__webpack_require__(10),__webpack_require__(20),__webpack_require__(14),__webpack_require__(15),__webpack_require__(17),__webpack_require__(16),__webpack_require__(9),__webpack_require__(25);var react=__webpack_require__(0),react_default=__webpack_require__.n(react),fabric=__webpack_require__(117),defaults=(__webpack_require__(66),__webpack_require__(13),__webpack_require__(83),__webpack_require__(525),__webpack_require__(63),__webpack_require__(62)),baseAttrNames=(__webpack_require__(29),[].concat(["Rect","Circle","Ellipse","Path","Textbox"],["SVG"]),["fill","stroke","strokeWidth"]),fabricObjAttrsLookup={Rect:[].concat(baseAttrNames,["width","height"]),Circle:[].concat(baseAttrNames,["radius"]),Ellipse:[].concat(baseAttrNames,["rx","ry"]),Textbox:[].concat(baseAttrNames,["text","fontFamily","fontSize","width","height"]),Path:[].concat(baseAttrNames,["path"]),SVG:[]};function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}var utils_makeElement=function makeElement(fObj){var element=fabricObjAttrsLookup[fObj.etype].reduce((function(p,c){return p[c]=fObj[c],p}),{});return Object.assign({etype:fObj.etype,id:fObj.id,transformMatrix:fObj.calcTransformMatrix(),fabricObj:fObj},element)},makeFabricObj=function(){var _ref=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(props){var newFObj,fObjProps,t;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if((fObjProps=Object.assign({},props)).transformMatrix&&delete fObjProps.transformMatrix,fObjProps.etype&&fObjProps.id){_context.next=4;break}throw"Can not make extended fabric object without etype and id.";case 4:if("Textbox"!==props.etype){_context.next=8;break}newFObj=new fabric.fabric.Textbox("text",Object.assign({text:"Enter text...",fontFamily:"Times New Roman"},defaults.d,fObjProps)),_context.next=25;break;case 8:if("Path"!==props.etype){_context.next=12;break}newFObj=new fabric.fabric.Path(props.path,Object.assign({strokeLineCap:"round"},defaults.d,fObjProps)),_context.next=25;break;case 12:if("Rect"!==props.etype){_context.next=16;break}newFObj=new fabric.fabric.Rect(Object.assign({},defaults.d,fObjProps)),_context.next=25;break;case 16:if("Circle"!==props.etype){_context.next=20;break}newFObj=new fabric.fabric.Circle(Object.assign({},defaults.d,fObjProps)),_context.next=25;break;case 20:if("Ellipse"!==props.etype){_context.next=24;break}newFObj=new fabric.fabric.Ellipse(Object.assign({},defaults.d,fObjProps)),_context.next=25;break;case 24:throw Error('Failed to deserialize element of unsupported type "'+props.etype+'".');case 25:return props.transformMatrix&&(t=fabric.fabric.util.qrDecompose(props.transformMatrix),newFObj.set(t),newFObj.setPositionByOrigin({x:t.translateX,y:t.translateY},"center","center")),newFObj.setCoords(),_context.abrupt("return",newFObj);case 28:case"end":return _context.stop()}}),_callee)})));return function makeFabricObj(_x){return _ref.apply(this,arguments)}}(),setHoverStyle=function setHoverStyle(newElement,selected,config){newElement.cornerStyle="circle",newElement.transparentCorners=!1,newElement.cornerSize=12,newElement.borderDashArray=selected?void 0:[5,5],newElement.borderColor=null==config?void 0:config.selectionColor,newElement.cornerColor=null==config?void 0:config.selectionColor},utils_setSelectionControls=function setSelectionControls(newElement,elementType,config){newElement.cornerStyle="circle",newElement.transparentCorners=!1,newElement.cornerSize=12,newElement.borderDashArray=void 0,newElement.borderColor=null==config?void 0:config.selectionColor,newElement.cornerColor=null==config?void 0:config.selectionColor,defaults.e||newElement.setControlVisible("mtr",!1),"Textbox"===elementType&&(newElement.setControlVisible("tl",!1),newElement.setControlVisible("mt",!1),newElement.setControlVisible("tr",!1),newElement.setControlVisible("bl",!1),newElement.setControlVisible("mb",!1),newElement.setControlVisible("br",!1))},v4=__webpack_require__(1060),SHAPES=["Ellipse","Rect","Circle","Triangle","Textbox"];var hooks_useDrawShapeHandler=function useDrawShapeHandler(fabricCanvasRef,uiState,onAddElement,disabled){var uiStateRef=react_default.a.useRef(uiState);react_default.a.useEffect((function(){var fcanvas=fabricCanvasRef.current;fcanvas.on("mouse:down",draw_shape_handle_pointer_down),fcanvas.on("mouse:move",draw_shape_handle_pointer_move),fcanvas.on("mouse:up",draw_shape_handle_pointer_up),fcanvas.on("path:created",handle_path_created),fcanvas.defaultCursor="crosshair"}),[]),react_default.a.useEffect((function(){uiStateRef.current=uiState;var fcanvas=fabricCanvasRef.current;(fcanvas.isDrawingMode="draw"===uiState.mode&&"Path"===uiState.shape)&&syncBrush(fcanvas)}),[uiState]);var syncBrush=function syncBrush(fcanvas){var brush=fcanvas.freeDrawingBrush;brush.width=uiState.strokeWidth||1,brush.color=uiState.color||"#fff",fcanvas.freeDrawingBrush=brush},handle_path_created=function handle_path_created(meta){var k,fObj=meta.path;for(k in defaults.d)fObj.set(k,defaults.d[k]);fObj.etype="Path",fObj.id=Object(v4.a)(),null==onAddElement||onAddElement(utils_makeElement(fObj))};react_default.a.useEffect((function(){var fcanvas=fabricCanvasRef.current;if(uiState.mode){!function setPathDrawing(fcanvas,uiState){fcanvas.isDrawingMode="draw"===uiState.mode&&"Path"===uiState.shape,syncBrush(fcanvas)}(fcanvas,uiState);var isDrawingMode="draw"===uiState.mode;fcanvas.selection=!disabled&&!isDrawingMode,fcanvas.defaultCursor=isDrawingMode?"crosshair":"",fcanvas.skipTargetFind=isDrawingMode}}),[uiState.mode,uiState.shape,uiState.shape,disabled]);var currentShapeDrawnRef=react_default.a.useRef(null),draw_shape_handle_pointer_down=Object(react.useCallback)((function(opt){var _uiStateRef$current,_uiStateRef$current2;if("draw"===(null===(_uiStateRef$current=uiStateRef.current)||void 0===_uiStateRef$current?void 0:_uiStateRef$current.mode)&&-1!==SHAPES.indexOf(null===(_uiStateRef$current2=uiStateRef.current)||void 0===_uiStateRef$current2?void 0:_uiStateRef$current2.shape)){var fcanvas=fabricCanvasRef.current,pointer=fcanvas.getPointer(opt.e),_ref=[pointer.x,pointer.y],originX=_ref[0],originY=_ref[1],newElementDefaults=function getElementPropsFromUiState(uiState){var shape=uiState.shape;return Object.assign({},uiState,{etype:shape,fill:-1!==["Textbox","SVG"].indexOf(shape)?uiState.color:"",stroke:-1!==["Textbox","SVG"].indexOf(shape)?"":uiState.color,strokeWidth:-1!==["Textbox"].indexOf(shape)?0:uiState.strokeWidth})}(uiStateRef.current);makeFabricObj(Object.assign({},newElementDefaults,{id:Object(v4.a)(),transformMatrix:[1,0,0,1,originX,originY]})).then((function(shape){fcanvas.add(shape),currentShapeDrawnRef.current={originX:originX,originY:originY,newFObjExt:shape}}))}}),[]),draw_shape_handle_pointer_move=Object(react.useCallback)((function(opt){var _uiStateRef$current3,_uiStateRef$current4,isDrawinShape="draw"===(null===(_uiStateRef$current3=uiStateRef.current)||void 0===_uiStateRef$current3?void 0:_uiStateRef$current3.mode)&&-1!==SHAPES.indexOf(null===(_uiStateRef$current4=uiStateRef.current)||void 0===_uiStateRef$current4?void 0:_uiStateRef$current4.shape);if(null!==currentShapeDrawnRef.current&&isDrawinShape){var fcanvas=fabricCanvasRef.current,pointer=fcanvas.getPointer(opt.e),_currentShapeDrawnRef=currentShapeDrawnRef.current,originX=_currentShapeDrawnRef.originX,originY=_currentShapeDrawnRef.originY,fabObj=currentShapeDrawnRef.current.newFObjExt;"Textbox"===fabObj.etype?fabObj.set({left:pointer.x,top:pointer.y}):-1!==SHAPES.indexOf(fabObj.etype)?fabObj.set({left:Math.min(originX,pointer.x),top:Math.min(originY,pointer.y)}):fabObj.set({left:pointer.x,top:pointer.y}),"Ellipse"===fabObj.etype?(fabObj.set({rx:Math.abs(originX-pointer.x)/2}),fabObj.set({ry:Math.abs(originY-pointer.y)/2})):"Rect"===fabObj.etype&&(fabObj.set({width:Math.abs(originX-pointer.x)}),fabObj.set({height:Math.abs(originY-pointer.y)})),fabObj.setCoords(),fcanvas.requestRenderAll()}}),[]),draw_shape_handle_pointer_up=Object(react.useCallback)((function(_opt){var _uiStateRef$current5,_uiStateRef$current6,isDrawinShape="draw"===(null===(_uiStateRef$current5=uiStateRef.current)||void 0===_uiStateRef$current5?void 0:_uiStateRef$current5.mode)&&-1!==SHAPES.indexOf(null===(_uiStateRef$current6=uiStateRef.current)||void 0===_uiStateRef$current6?void 0:_uiStateRef$current6.shape),fcanvas=fabricCanvasRef.current;if(null!==currentShapeDrawnRef.current&&isDrawinShape){var newFObjExt=currentShapeDrawnRef.current.newFObjExt;-1!==SHAPES.indexOf(newFObjExt.etype)&&(newFObjExt.width<4||newFObjExt.height<4)?null==fcanvas||fcanvas.remove(newFObjExt):null==onAddElement||onAddElement(utils_makeElement(newFObjExt)),currentShapeDrawnRef.current=null}}),[])};__webpack_require__(158),__webpack_require__(43);var hooks_useCustomSelectCorners=function useCustomSelectCorners(fabricCanvasRef,selectionConfig){react_default.a.useEffect((function(){fabricCanvasRef.current.on("selection:created",handle_selection),fabricCanvasRef.current.on("selection:updated",handle_selection),fabricCanvasRef.current.on("selection:cleared",handle_selection)}),[]);var handle_selection=function handle_selection(event){if(event.target){var fObj=event.target;if(utils_setSelectionControls(event.target,fObj.etype,selectionConfig),fObj._objects)fObj._objects.forEach((function(s){return utils_setSelectionControls(s,s.etype)}))}}};var hooks_useCustomHoverStyle=function useCustomHoverStyle(fabricCanvasRef,selectionConfig){react_default.a.useEffect((function(){null!=selectionConfig&&selectionConfig.hoverBoundingBox&&(fabricCanvasRef.current.on("object:added",handle_object_added),fabricCanvasRef.current.on("path:created",handle_object_added),fabricCanvasRef.current.on("selection:created",handle_selection),fabricCanvasRef.current.on("selection:updated",handle_selection),fabricCanvasRef.current.on("selection:cleared",handle_selection))}),[]);var handle_object_added=function handle_object_added(event){event.target&&(setHoverStyle(event.target,!1,selectionConfig),function bootstrapHoverHandler(newFObj){newFObj.on("mouseover",(function(){this._renderControls(this.canvas.contextTop,{hasControls:!1})})),newFObj.on("mousedown",(function(){this.canvas.clearContext(this.canvas.contextTop)})),newFObj.on("mouseout",(function(){this.canvas.clearContext(this.canvas.contextTop)}))}(event.target))},handle_selection=function handle_selection(event){var _event$selected,_event$deselected;null===(_event$selected=event.selected)||void 0===_event$selected||_event$selected.forEach((function(s){setHoverStyle(s,!0,selectionConfig)})),null===(_event$deselected=event.deselected)||void 0===_event$deselected||_event$deselected.forEach((function(s){setHoverStyle(s,!1,selectionConfig)}))}};var hooks_useModifyHandler=function useModifyHandler(fabricCanvasRef,onChangeElement){react_default.a.useEffect((function(){fabricCanvasRef.current.on("object:modified",handle_object_modified)}),[]);var handle_object_modified=function handle_object_modified(event){event.target&&(event.target.hasOwnProperty("_objects")?event.target._objects:[event.target]).forEach((function(obj){if(onChangeElement){var updates={transformMatrix:obj.calcTransformMatrix()},fObj=obj;"Textbox"===fObj.etype&&(updates.text=fObj.text,updates.width=fObj.width),onChangeElement(Object.assign({id:fObj.id},updates))}}))}};__webpack_require__(30),__webpack_require__(86),__webpack_require__(266);var hooks_useSyncSelection=function useSyncSelection(fabricCanvasRef,uiState,setUIState,onSelection){react_default.a.useEffect((function(){fabricCanvasRef.current.on("selection:created",(function(event){handle_selection_change(event.selected)})),fabricCanvasRef.current.on("selection:updated",(function(event){handle_selection_change(event.selected,event.deselected)})),fabricCanvasRef.current.on("selection:cleared",(function(event){handle_selection_change(event.selected,event.deselected)}))}),[]);var handle_selection_change=function handle_selection_change(added,removed){var activeObjs=fabricCanvasRef.current.getActiveObjects(),s=activeObjs.map((function(e){return e.id}));null==added||added.map((function(e){return e.id})),null==removed||removed.map((function(e){return e.id}));if(1===activeObjs.length&&setUIState){var obj=activeObjs[0];if(["Rect","Ellipse","Path"].includes(obj.etype)){var updatedUiState=Object.assign({},uiState,{strokeWidth:obj.strokeWidth,color:obj.stroke,shape:obj.etype});setTimeout(setUIState,200,updatedUiState)}["Textbox"].includes(obj.etype)&&setTimeout(setUIState,200,Object.assign({},uiState,{color:obj.fill,fontSize:obj.fontSize,shape:"Textbox"}))}onSelection&&onSelection(s)}};var jsx_runtime=__webpack_require__(1),_excluded=["width","height","backgroundColor","attrs"];function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var FabricCanvas=react_default.a.memo((function(_ref){var _ref$width=_ref.width,width=void 0===_ref$width?100:_ref$width,_ref$height=_ref.height,height=void 0===_ref$height?100:_ref$height,_ref$backgroundColor=_ref.backgroundColor,backgroundColor=void 0===_ref$backgroundColor?"LightSteelBlue":_ref$backgroundColor,_ref$attrs=_ref.attrs,attrs=void 0===_ref$attrs?defaults.a:_ref$attrs,props=_objectWithoutProperties(_ref,_excluded),nativeCanvasRef=react_default.a.useRef(null);return react_default.a.useEffect((function(){props.fabricCanvasRef.current.setWidth(width),props.fabricCanvasRef.current.setHeight(height)}),[width,height]),react_default.a.useEffect((function(){props.fabricCanvasRef.current.backgroundColor=backgroundColor}),[backgroundColor]),Object(react.useEffect)((function(){return null!==nativeCanvasRef.current&&(props.fabricCanvasRef.current=new fabric.fabric.Canvas(nativeCanvasRef.current.id,Object.assign({width:width,height:height,backgroundColor:backgroundColor},attrs))),function(){var _props$fabricCanvasRe;null===(_props$fabricCanvasRe=props.fabricCanvasRef.current)||void 0===_props$fabricCanvasRe||_props$fabricCanvasRe.dispose()}}),[]),Object(jsx_runtime.jsx)("canvas",{ref:nativeCanvasRef,id:"canvas_"+Object(v4.a)()})})),AnnotateCanvas_FabricCanvas=FabricCanvas;try{FabricCanvas.displayName="FabricCanvas",FabricCanvas.__docgenInfo={description:"",displayName:"FabricCanvas",props:{fabricCanvasRef:{defaultValue:null,description:"",name:"fabricCanvasRef",required:!0,type:{name:"MutableRefObject<Canvas>"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"number"}},backgroundColor:{defaultValue:null,description:"",name:"backgroundColor",required:!1,type:{name:"string"}},attrs:{defaultValue:null,description:"",name:"attrs",required:!1,type:{name:"Record<string, string | number | boolean>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component/core/AnnotateCanvas/FabricCanvas.tsx#FabricCanvas"]={docgenInfo:FabricCanvas.__docgenInfo,name:"FabricCanvas",path:"src/component/core/AnnotateCanvas/FabricCanvas.tsx#FabricCanvas"})}catch(__react_docgen_typescript_loader_error){}var hooks_useRedrawElements=function useRedrawElements(fabricCanvasRef,backgroundColor,elements,redrawOnModify){var redrawCanvas=function redrawCanvas(fCanvas){fCanvas.clear(),fCanvas.backgroundColor=backgroundColor,elements.forEach((function(ele){makeFabricObj(ele).then((function(shape){fCanvas.add(shape),ele.fabricObj=shape}))}))};Object(react.useEffect)((function(){redrawOnModify&&redrawCanvas(fabricCanvasRef.current)}),[elements]),Object(react.useEffect)((function(){redrawOnModify||redrawCanvas(fabricCanvasRef.current)}),[])},hooks_usePanZoom=function usePanZoom(fabricCanvasRef,panZoom){react_default.a.useEffect((function(){panZoom&&fabricCanvasRef.current.setViewportTransform([panZoom.scale,0,0,panZoom.scale,panZoom.x,panZoom.y])}),[panZoom])},AnnotateCanvas_excluded=["elements","selection","onSelection","width","height","backgroundColor","clearOnElementModify","uiState","setUiState","selectionConfig","debugLogging","disabled"];function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function AnnotateCanvas_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function AnnotateCanvas_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var EmptyCanvas=new fabric.fabric.Canvas(""),AnnotateCanvas=react_default.a.memo((function(_ref){var _ref$elements=_ref.elements,elements=void 0===_ref$elements?[]:_ref$elements,_ref$selection=_ref.selection,selection=void 0===_ref$selection?void 0:_ref$selection,_ref$onSelection=_ref.onSelection,onSelection=void 0===_ref$onSelection?void 0:_ref$onSelection,_ref$width=_ref.width,width=void 0===_ref$width?100:_ref$width,_ref$height=_ref.height,height=void 0===_ref$height?100:_ref$height,_ref$backgroundColor=_ref.backgroundColor,backgroundColor=void 0===_ref$backgroundColor?"":_ref$backgroundColor,_ref$clearOnElementMo=_ref.clearOnElementModify,clearOnElementModify=void 0!==_ref$clearOnElementMo&&_ref$clearOnElementMo,_ref$uiState=_ref.uiState,uiState=void 0===_ref$uiState?defaults.c:_ref$uiState,setUiState=_ref.setUiState,_ref$selectionConfig=_ref.selectionConfig,selectionConfig=void 0===_ref$selectionConfig?defaults.b:_ref$selectionConfig,_ref$debugLogging=_ref.debugLogging,debugLogging=void 0!==_ref$debugLogging&&_ref$debugLogging,_ref$disabled=_ref.disabled,disabled=void 0!==_ref$disabled&&_ref$disabled,props=AnnotateCanvas_objectWithoutProperties(_ref,AnnotateCanvas_excluded),fcRef=react_default.a.useRef(EmptyCanvas),_useState2=_slicedToArray(Object(react.useState)([]),2),innerSelection=_useState2[0],setInnerSelection=_useState2[1];return selection||(selection=innerSelection),onSelection||(onSelection=setInnerSelection),hooks_useRedrawElements(fcRef,backgroundColor,elements,clearOnElementModify),hooks_useSyncSelection(fcRef,uiState,setUiState,onSelection),hooks_useCustomSelectCorners(fcRef,selectionConfig),hooks_useCustomHoverStyle(fcRef,selectionConfig),hooks_useDrawShapeHandler(fcRef,uiState,(function(e){props.onAddElement&&props.onAddElement(e),setUiState&&"Path"!==e.etype&&fcRef.current.setActiveObject(e.fabricObj)}),disabled),hooks_useModifyHandler(fcRef,props.onChangeElement),hooks_usePanZoom(fcRef,props.panZoom),function useApplyAttrsToSelection(canvasRef,uiState,selectedIds,elements,onChangeElement){var updateSelectedElement=function updateSelectedElement(key,value){elements.forEach((function(element){if(-1!==selectedIds.indexOf(element.id)){var _onChangeElement,etype=element.etype,adjKey=key;if("Textbox"===etype&&"strokeWidth"===key)return;"color"===key&&(adjKey="Textbox"===etype?"fill":"stroke"),element.fabricObj&&element.fabricObj.set(adjKey,value),onChangeElement&&onChangeElement(((_onChangeElement={id:element.id})[adjKey]=value,_onChangeElement))}})),canvasRef.current.renderAll()};Object(react.useEffect)((function(){return updateSelectedElement("fontSize",uiState.fontSize)}),[uiState.fontSize]),Object(react.useEffect)((function(){return updateSelectedElement("strokeWidth",uiState.strokeWidth)}),[uiState.strokeWidth]),Object(react.useEffect)((function(){return updateSelectedElement("color",uiState.color)}),[uiState.color])}(fcRef,uiState,selection,elements,props.onChangeElement),function useCanvasDebugger(on,elements,selection,fCanvasRef){react_default.a.useEffect((function(){if(on&&null!=fCanvasRef&&fCanvasRef.current){console.log("All elements: ",elements),null!=fCanvasRef&&fCanvasRef.current&&console.log("All Fabric Objects: ",fCanvasRef.current.getObjects()),console.log("Selection Ids: ",selection);var elementSelection=elements.filter((function(e){return-1!==selection.indexOf(e.id)}));elementSelection.length&&console.log("Selected: ",function getUiStateFromElement(element){var uiState={shape:element.etype};return-1!==["Textbox"].indexOf(element.etype)&&(uiState.color=element.fill,uiState.fontSize=element.fontSize,uiState.fontFamily=element.fontFamily),-1!=["Rect","Circle","Triangle","Ellipse","Path"].indexOf(element.etype)&&(uiState.strokeWidth=element.strokeWidth,uiState.color=element.stroke),uiState}(elementSelection[0]))}}),[elements,selection])}(debugLogging,elements,selection,fcRef),Object(jsx_runtime.jsx)("div",{style:{pointerEvents:disabled?"none":void 0},children:Object(jsx_runtime.jsx)(AnnotateCanvas_FabricCanvas,{fabricCanvasRef:fcRef,width:width,height:height,backgroundColor:backgroundColor})})}));__webpack_exports__.a=AnnotateCanvas;try{AnnotateCanvas.displayName="AnnotateCanvas",AnnotateCanvas.__docgenInfo={description:"",displayName:"AnnotateCanvas",props:{width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"number"}},backgroundColor:{defaultValue:null,description:"",name:"backgroundColor",required:!1,type:{name:"string"}},panZoom:{defaultValue:null,description:"",name:"panZoom",required:!1,type:{name:"{ x: number; y: number; scale: number; }"}},clearOnElementModify:{defaultValue:null,description:"",name:"clearOnElementModify",required:!1,type:{name:"boolean"}},elements:{defaultValue:null,description:"",name:"elements",required:!0,type:{name:"AnnotateElement[]"}},onAddElement:{defaultValue:null,description:"",name:"onAddElement",required:!1,type:{name:"((element: AnnotateElement) => void)"}},onChangeElement:{defaultValue:null,description:"",name:"onChangeElement",required:!1,type:{name:"((element: Partial<AnnotateElement>) => void)"}},selection:{defaultValue:null,description:"",name:"selection",required:!1,type:{name:"string[]"}},onSelection:{defaultValue:null,description:"",name:"onSelection",required:!1,type:{name:"((selected: string[]) => void)"}},uiState:{defaultValue:null,description:"",name:"uiState",required:!1,type:{name:"UserControllerInputs"}},setUiState:{defaultValue:null,description:"",name:"setUiState",required:!1,type:{name:"((u: UserControllerInputs) => void)"}},selectionConfig:{defaultValue:null,description:"",name:"selectionConfig",required:!1,type:{name:"UserSelectionConfig"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},debugLogging:{defaultValue:null,description:"",name:"debugLogging",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component/core/AnnotateCanvas/AnnotateCanvas.tsx#AnnotateCanvas"]={docgenInfo:AnnotateCanvas.__docgenInfo,name:"AnnotateCanvas",path:"src/component/core/AnnotateCanvas/AnnotateCanvas.tsx#AnnotateCanvas"})}catch(__react_docgen_typescript_loader_error){}},287:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(24),__webpack_require__(99),__webpack_require__(4),__webpack_require__(98),__webpack_require__(12),__webpack_require__(10),__webpack_require__(20),__webpack_require__(14),__webpack_require__(15),__webpack_require__(17),__webpack_require__(16),__webpack_require__(9),__webpack_require__(25),__webpack_require__(166),__webpack_require__(266);var react__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_15__),classnames__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(565),classnames__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_16__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__=(__webpack_require__(987),__webpack_require__(1)),_excluded=["frameRange","useFrameDisplay","themeColor"];function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var Timeline=function Timeline(_ref){var frameRange=_ref.frameRange,_ref$useFrameDisplay=_ref.useFrameDisplay,useFrameDisplay=void 0!==_ref$useFrameDisplay&&_ref$useFrameDisplay,_ref$themeColor=_ref.themeColor,themeColor=void 0===_ref$themeColor?"red":_ref$themeColor,props=_objectWithoutProperties(_ref,_excluded),progressDisplayTimeoutRef=Object(react__WEBPACK_IMPORTED_MODULE_15__.useRef)(null),timelineRef=Object(react__WEBPACK_IMPORTED_MODULE_15__.useRef)(null),_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_15__.useState)(0),2),seekPercentage=_useState2[0],setSeekPercentage=_useState2[1],_useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_15__.useState)(!1),2),innerCaptured=_useState4[0],setInnerCaptured=_useState4[1],timelineCaptured=props.timelineCaptured||innerCaptured,onTimelineCaptured=props.onTimelineCaptured||setInnerCaptured,displayPlayPercentage=props.currentTime/props.duration,oneFramePercent=0,frameDuration=-1,frameIndex=-1;if(useFrameDisplay&&frameRange){oneFramePercent=1/(frameDuration=frameRange[1]-frameRange[0]+1),displayPlayPercentage=Math.min(displayPlayPercentage,1-oneFramePercent);var frameElapsed=Math.floor(displayPlayPercentage*frameDuration);frameIndex=frameElapsed+frameRange[0],displayPlayPercentage=Math.min(frameElapsed*oneFramePercent)}timelineCaptured&&(displayPlayPercentage=seekPercentage),react__WEBPACK_IMPORTED_MODULE_15___default.a.useEffect((function(){return function(){null!==progressDisplayTimeoutRef.current&&window.clearTimeout(progressDisplayTimeoutRef.current)}}),[]);var handleScrubStart=function handleScrubStart(event){handleScrubMove(event),onTimelineCaptured&&onTimelineCaptured(!0)},handleScrubEnd=function handleScrubEnd(event){handleScrubMoveFinish(event),onTimelineCaptured&&onTimelineCaptured(!1)},handleScrubMove=function handleScrubMove(e){var isPointerEvent=e.type&&e.type.startsWith("pointer"),isPointerMoveEvent=e.type&&"pointermove"===e.type,isPointerDownEvent=e.type&&"pointerdown"===e.type;if(!isPointerMoveEvent||(props.onPointerMove&&props.onPointerMove(e),0!==e.buttons)){e.stopPropagation(),isPointerDownEvent&&e.currentTarget.setPointerCapture(e.pointerId);var bounds=timelineRef.current.getBoundingClientRect(),totalWidth=bounds.width,offset=(isPointerEvent?e.pageX:e.touches[0].clientX)-bounds.left,_seekPercentage=(offset=Math.max(0,Math.min(offset,totalWidth)))/totalWidth;setSeekPercentage(_seekPercentage);var seekTime=_seekPercentage*props.duration,seekFrameIndex=-1;if(props.onTimelineSeek){if(progressDisplayTimeoutRef.current&&(window.clearTimeout(progressDisplayTimeoutRef.current),progressDisplayTimeoutRef.current=null),useFrameDisplay&&frameRange){var _frameDuration=frameRange[1]-frameRange[0]+1;seekFrameIndex=Math.floor(_seekPercentage*_frameDuration+frameRange[0])}progressDisplayTimeoutRef.current=window.setTimeout(props.onTimelineSeek,5,seekTime,seekFrameIndex)}}},handleScrubMoveFinish=function handleScrubMoveFinish(e){e.type&&e.type.startsWith("pointer")&&e.currentTarget.releasePointerCapture(e.pointerId)},playHead=Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("div",{className:"timeline__track__playhead",style:{left:100*(displayPlayPercentage+oneFramePercent)+"%",backgroundColor:""+themeColor}}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("div",{className:"timeline__track__playhead__text",style:{left:100*(displayPlayPercentage+oneFramePercent)+"%"},children:-1!==frameIndex?frameIndex:""})]});return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("div",{className:classnames__WEBPACK_IMPORTED_MODULE_16___default()("timeline",props.className),children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("div",{ref:timelineRef,className:"timeline__scrollzone",onPointerMove:handleScrubMove,onTouchMove:handleScrubMove,onPointerDown:handleScrubStart,onTouchStart:handleScrubStart,onPointerUp:handleScrubEnd,onTouchEnd:handleScrubEnd,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsxs)("div",{className:"timeline__track",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("div",{className:"timeline__track__progress",style:{background:themeColor,width:100*(displayPlayPercentage+oneFramePercent)+"%"}}),playHead]})})})};Timeline.displayName="Timeline",__webpack_exports__.a=Timeline;try{Timeline.displayName="Timeline",Timeline.__docgenInfo={description:"",displayName:"Timeline",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},duration:{defaultValue:null,description:"",name:"duration",required:!0,type:{name:"number"}},currentTime:{defaultValue:null,description:"",name:"currentTime",required:!0,type:{name:"number"}},useFrameDisplay:{defaultValue:{value:"false"},description:"",name:"useFrameDisplay",required:!1,type:{name:"boolean"}},frameRange:{defaultValue:null,description:"",name:"frameRange",required:!1,type:{name:"[number, number]"}},timelineCaptured:{defaultValue:null,description:"",name:"timelineCaptured",required:!1,type:{name:"boolean"}},onTimelineSeek:{defaultValue:null,description:"",name:"onTimelineSeek",required:!1,type:{name:"((seekTime: number, seekFrameIndex?: number) => void)"}},onTimelineCaptured:{defaultValue:null,description:"",name:"onTimelineCaptured",required:!1,type:{name:"((captured: boolean) => void)"}},onPointerMove:{defaultValue:null,description:"",name:"onPointerMove",required:!1,type:{name:"((e: any) => void)"}},themeColor:{defaultValue:{value:"red"},description:"",name:"themeColor",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component/core/Timeline/Timeline.tsx#Timeline"]={docgenInfo:Timeline.__docgenInfo,name:"Timeline",path:"src/component/core/Timeline/Timeline.tsx#Timeline"})}catch(__react_docgen_typescript_loader_error){}},288:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(24),__webpack_require__(99),__webpack_require__(4),__webpack_require__(266),__webpack_require__(13);var react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),react_player__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(566),react_player__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react_player__WEBPACK_IMPORTED_MODULE_6__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1),_excluded=["seekTime","onProgressHiFi"];function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var RPlayer=function RPlayer(_ref){var _ref$seekTime=_ref.seekTime,seekTime=void 0===_ref$seekTime?void 0:_ref$seekTime,_ref$onProgressHiFi=_ref.onProgressHiFi,onProgressHiFi=void 0===_ref$onProgressHiFi?void 0:_ref$onProgressHiFi,props=_objectWithoutProperties(_ref,_excluded),reactPlayerRef=Object(react__WEBPACK_IMPORTED_MODULE_5__.useRef)(null),syncTimeIdRef=Object(react__WEBPACK_IMPORTED_MODULE_5__.useRef)(null),lastBroadcastTimeRef=Object(react__WEBPACK_IMPORTED_MODULE_5__.useRef)(null);return Object(react__WEBPACK_IMPORTED_MODULE_5__.useEffect)((function(){reactPlayerRef.current&&seekTime&&seekTime>=0&&("VIDEO"===reactPlayerRef.current.getInternalPlayer().nodeName?reactPlayerRef.current.getInternalPlayer().currentTime=seekTime:reactPlayerRef.current.seekTo(seekTime))}),[seekTime]),Object(react__WEBPACK_IMPORTED_MODULE_5__.useEffect)((function(){return syncTimeIdRef.current&&(window.clearTimeout(syncTimeIdRef.current),syncTimeIdRef.current=null),onProgressHiFi&&reactPlayerRef.current&&(syncTimeIdRef.current=window.setInterval((function(){if(reactPlayerRef.current){var _lastBroadcastTimeRef,played=reactPlayerRef.current.getCurrentTime(),loaded=reactPlayerRef.current.getSecondsLoaded();played!==(null===(_lastBroadcastTimeRef=lastBroadcastTimeRef.current)||void 0===_lastBroadcastTimeRef?void 0:_lastBroadcastTimeRef.played)&&onProgressHiFi({loaded:loaded,played:played}),lastBroadcastTimeRef.current={played:played,loaded:loaded}}}),20)),function(){syncTimeIdRef.current&&window.clearInterval(syncTimeIdRef.current)}}),[reactPlayerRef.current]),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(react_player__WEBPACK_IMPORTED_MODULE_6___default.a,Object.assign({ref:reactPlayerRef,style:{position:"absolute",top:"0px",left:"0px",right:"0px",bottom:"0px",overflow:"hidden"},width:"100%",height:"100%"},props))};RPlayer.displayName="RPlayer",__webpack_exports__.a=RPlayer;try{RPlayer.displayName="RPlayer",RPlayer.__docgenInfo={description:"",displayName:"RPlayer",props:{seekTime:{defaultValue:{value:"undefined"},description:"",name:"seekTime",required:!1,type:{name:"number"}},onProgressHiFi:{defaultValue:{value:"undefined"},description:"",name:"onProgressHiFi",required:!1,type:{name:"((s: PlayerState) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component/core/MediaPlayer/RPlayer.tsx#RPlayer"]={docgenInfo:RPlayer.__docgenInfo,name:"RPlayer",path:"src/component/core/MediaPlayer/RPlayer.tsx#RPlayer"})}catch(__react_docgen_typescript_loader_error){}},524:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"AnnotatePanZoomImage",(function(){return AnnotatePanZoomImage})),__webpack_require__.d(__webpack_exports__,"AnnotatePanZoomOembed",(function(){return AnnotatePanZoomOembed}));__webpack_require__(13),__webpack_require__(66),__webpack_require__(98),__webpack_require__(4),__webpack_require__(12),__webpack_require__(10),__webpack_require__(20),__webpack_require__(14),__webpack_require__(15),__webpack_require__(17),__webpack_require__(16),__webpack_require__(9),__webpack_require__(25);var react__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_13__),_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(50),_component_core_PanZoom__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(222),_component_core_AnnotateCanvas_AnnotateCanvas__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(225),_testdata_annotationSamples__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(164),_component_core_PanZoom_PanZoom__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(140),_component_core_PanZoom_utils__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(75),_testdata_mediaSamples__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(65),_utils__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(192),_component_core_MediaPlayer_composer__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(127),_component_core_AnnotateCanvas_defaults__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(62),_component_core_AnnotateCanvas_elementActionReducer__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(195),_component_core_AnnotateCanvas_UI_BrushTools__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(223),_component_core_AnnotateCanvas_UI_EditTools__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(224),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(1);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var hintsAnnotateMedia=Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_27__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_27__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_27__.jsx)("h4",{children:"Annotation"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_27__.jsx)("p",{children:"Annotate on the media of your choice; switch the content using the media selector."}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_27__.jsxs)("p",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_27__.jsx)("b",{children:"PanZoom"}),": panning and zooming the content"]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_27__.jsxs)("p",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_27__.jsx)("b",{children:"Selection"}),": select the annotation"]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_27__.jsxs)("p",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_27__.jsx)("b",{children:"Annotate"}),": annotate on the content"]})]}),hintsAnnotateOembed=Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_27__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_27__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_27__.jsx)("h4",{children:"Annotate oEmbed"}),"oEmbed allows webapps to embed media from YouTube, Vimeo, Sound Cloud, etc. You can annotate on these. WIP: per frame annotation.",Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_27__.jsxs)("p",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_27__.jsx)("b",{children:"PanZoom"}),": panning and zooming the content"]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_27__.jsxs)("p",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_27__.jsx)("b",{children:"Selection"}),": select the annotation"]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_27__.jsxs)("p",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_27__.jsx)("b",{children:"Annotate"}),": annotate on the content"]})]}),AnnotatePanZoomImage=function AnnotatePanZoomImage(){var videoUrlKnob=Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_14__.select)("Media URL",_testdata_mediaSamples__WEBPACK_IMPORTED_MODULE_20__.a,_testdata_mediaSamples__WEBPACK_IMPORTED_MODULE_20__.a[0]),resolutionKnob=Object(_utils__WEBPACK_IMPORTED_MODULE_21__.b)().resolutionKnob,_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)(_component_core_AnnotateCanvas_defaults__WEBPACK_IMPORTED_MODULE_23__.c),2),uiState=_useState2[0],setUiState=_useState2[1],_React$useReducer2=_slicedToArray(react__WEBPACK_IMPORTED_MODULE_13___default.a.useReducer(_component_core_AnnotateCanvas_elementActionReducer__WEBPACK_IMPORTED_MODULE_24__.a,_testdata_annotationSamples__WEBPACK_IMPORTED_MODULE_17__.a),2),elementsState=_React$useReducer2[0],elementsDispatcher=_React$useReducer2[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_27__.jsxs)(_utils__WEBPACK_IMPORTED_MODULE_21__.a,{hint:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_27__.jsx)("div",{children:hintsAnnotateMedia}),children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_27__.jsxs)(_component_core_PanZoom__WEBPACK_IMPORTED_MODULE_15__.a,{disabled:"panZoom"!==uiState.mode,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_27__.jsx)(_component_core_PanZoom_PanZoom__WEBPACK_IMPORTED_MODULE_18__.a,{render:function render(setContentSize){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_27__.jsx)("img",{style:{pointerEvents:"none",userSelect:"none"},src:videoUrlKnob,onLoad:function onLoad(e){setContentSize({width:e.currentTarget.width,height:e.currentTarget.height})}})}}),uiState.showAnnotation&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_27__.jsx)(_component_core_PanZoom_PanZoom__WEBPACK_IMPORTED_MODULE_18__.b,{pointerEventPassthrough:"panZoom"===uiState.mode,render:function render(panZoom,contentSize,containerSize){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_27__.jsx)(_component_core_AnnotateCanvas_AnnotateCanvas__WEBPACK_IMPORTED_MODULE_16__.a,{elements:elementsState,width:containerSize.width,height:containerSize.height,panZoom:Object.assign({},panZoom,{scale:Object(_component_core_PanZoom_utils__WEBPACK_IMPORTED_MODULE_19__.f)(contentSize,panZoom.scale,resolutionKnob)}),uiState:uiState,setUiState:setUiState,onChangeElement:function onChangeElement(elementUpdates){return elementsDispatcher({type:"changeElement",elementUpdates:elementUpdates})},onAddElement:function onAddElement(newElement){elementsDispatcher({type:"addElement",newElement:newElement})},disabled:"panZoom"===uiState.mode})}})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_27__.jsx)(_component_core_AnnotateCanvas_UI_BrushTools__WEBPACK_IMPORTED_MODULE_25__.a,{uiState:uiState,setUIState:setUiState}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_27__.jsx)(_component_core_AnnotateCanvas_UI_EditTools__WEBPACK_IMPORTED_MODULE_26__.a,{uiState:uiState,setUIState:setUiState})]})};AnnotatePanZoomImage.displayName="AnnotatePanZoomImage";var AnnotatePanZoomOembed=function AnnotatePanZoomOembed(){var _useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)(0),2),mediaIndex=_useState4[0],setMediaIndex=_useState4[1],mediaKnob=Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_14__.select)("Video",_testdata_mediaSamples__WEBPACK_IMPORTED_MODULE_20__.b,_testdata_mediaSamples__WEBPACK_IMPORTED_MODULE_20__.b[mediaIndex]);Object(react__WEBPACK_IMPORTED_MODULE_13__.useEffect)((function(){var index=_testdata_mediaSamples__WEBPACK_IMPORTED_MODULE_20__.b.reduce((function(a,c,i){return c.label===mediaKnob.label&&(a=i),a}),0);setMediaIndex(index)}),[mediaKnob]);var _useState6=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)(_component_core_AnnotateCanvas_defaults__WEBPACK_IMPORTED_MODULE_23__.c),2),uiState=_useState6[0],setUiState=_useState6[1],_React$useReducer4=_slicedToArray(react__WEBPACK_IMPORTED_MODULE_13___default.a.useReducer(_component_core_AnnotateCanvas_elementActionReducer__WEBPACK_IMPORTED_MODULE_24__.a,_testdata_annotationSamples__WEBPACK_IMPORTED_MODULE_17__.a),2),elementsState=_React$useReducer4[0],elementsDispatcher=_React$useReducer4[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_27__.jsx)(_utils__WEBPACK_IMPORTED_MODULE_21__.a,{hint:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_27__.jsx)("div",{children:hintsAnnotateOembed}),children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_27__.jsx)(_component_core_MediaPlayer_composer__WEBPACK_IMPORTED_MODULE_22__.c,{value:{mediaList:_testdata_mediaSamples__WEBPACK_IMPORTED_MODULE_20__.b,mediaIndex:mediaIndex,setMediaIndex:setMediaIndex},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_27__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_27__.jsxs)(_component_core_PanZoom__WEBPACK_IMPORTED_MODULE_15__.a,{disabled:"panZoom"!==uiState.mode,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_27__.jsx)(_component_core_PanZoom_PanZoom__WEBPACK_IMPORTED_MODULE_18__.a,{render:function render(setContentSize){return Object(react__WEBPACK_IMPORTED_MODULE_13__.useEffect)((function(){setContentSize(_testdata_mediaSamples__WEBPACK_IMPORTED_MODULE_20__.b[mediaIndex])}),[mediaIndex]),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_27__.jsx)(_component_core_MediaPlayer_composer__WEBPACK_IMPORTED_MODULE_22__.b,{})},normalizeRes:1e3}),uiState.showAnnotation&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_27__.jsx)(_component_core_PanZoom_PanZoom__WEBPACK_IMPORTED_MODULE_18__.b,{render:function render(panZoom,contentSize,containerSize){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_27__.jsx)(_component_core_AnnotateCanvas_AnnotateCanvas__WEBPACK_IMPORTED_MODULE_16__.a,{elements:elementsState,width:containerSize.width,height:containerSize.height,panZoom:Object.assign({},panZoom,{scale:Object(_component_core_PanZoom_utils__WEBPACK_IMPORTED_MODULE_19__.f)(contentSize,panZoom.scale,1e3)}),uiState:uiState,setUiState:setUiState,onChangeElement:function onChangeElement(elementUpdates){return elementsDispatcher({type:"changeElement",elementUpdates:elementUpdates})},onAddElement:function onAddElement(newElement){elementsDispatcher({type:"addElement",newElement:newElement})},disabled:"panZoom"===uiState.mode})}})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_27__.jsxs)("div",{style:{position:"absolute",bottom:0,left:0,right:0},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_27__.jsx)(_component_core_MediaPlayer_composer__WEBPACK_IMPORTED_MODULE_22__.d,{}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_27__.jsx)(_component_core_MediaPlayer_composer__WEBPACK_IMPORTED_MODULE_22__.a,{})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_27__.jsx)(_component_core_AnnotateCanvas_UI_BrushTools__WEBPACK_IMPORTED_MODULE_25__.a,{uiState:uiState,setUIState:setUiState}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_27__.jsx)(_component_core_AnnotateCanvas_UI_EditTools__WEBPACK_IMPORTED_MODULE_26__.a,{uiState:uiState,setUIState:setUiState})]})})})};AnnotatePanZoomOembed.displayName="AnnotatePanZoomOembed",AnnotatePanZoomImage.parameters={layout:"fullscreen"},AnnotatePanZoomOembed.parameters={layout:"fullscreen"},__webpack_exports__.default={title:"All Together Now"},AnnotatePanZoomImage.parameters=Object.assign({storySource:{source:"(): JSX.Element => {\n  const videoUrlKnob = select('Media URL', artUrls, artUrls[0]);\n  const { resolutionKnob } = getAnnotateKnobs();\n\n  const [uiState, setUiState] =\n    useState<UserControllerInputs>(DEFAULT_UI_ATTRS);\n\n  const [elementsState, elementsDispatcher] = React.useReducer(\n    elementsActionReducer,\n    sampleAnnotations,\n  );\n\n  return (\n    <StoryHint hint={<div>{hintsAnnotateMedia}</div>}>\n      <PanZoom disabled={uiState.mode !== 'panZoom'}>\n        <PanZoomContent\n          render={(setContentSize) => (\n            <img\n              style={{ pointerEvents: 'none', userSelect: 'none' }}\n              src={videoUrlKnob}\n              onLoad={(e: React.SyntheticEvent<HTMLImageElement>) => {\n                setContentSize({\n                  width: e.currentTarget.width,\n                  height: e.currentTarget.height,\n                });\n              }}\n            />\n          )}\n        />\n        {uiState.showAnnotation && (\n          <PanZoomOverlay\n            pointerEventPassthrough={uiState.mode === 'panZoom'}\n            render={(panZoom, contentSize, containerSize) => {\n              return (\n                <AnnotateCanvas\n                  elements={elementsState}\n                  width={containerSize.width}\n                  height={containerSize.height}\n                  panZoom={{\n                    ...panZoom,\n                    scale: normalizeScale(\n                      contentSize,\n                      panZoom.scale,\n                      resolutionKnob,\n                    ),\n                  }}\n                  uiState={uiState}\n                  setUiState={setUiState}\n                  onChangeElement={(elementUpdates) =>\n                    elementsDispatcher({\n                      type: 'changeElement',\n                      elementUpdates,\n                    })\n                  }\n                  onAddElement={(newElement) => {\n                    elementsDispatcher({ type: 'addElement', newElement });\n                  }}\n                  disabled={uiState.mode === 'panZoom'}\n                />\n              );\n            }}\n          />\n        )}\n      </PanZoom>\n      <BrushTools uiState={uiState} setUIState={setUiState} />\n      <EditTools uiState={uiState} setUIState={setUiState} />\n    </StoryHint>\n  );\n}"}},AnnotatePanZoomImage.parameters),AnnotatePanZoomOembed.parameters=Object.assign({storySource:{source:"(): JSX.Element => {\n  const [mediaIndex, setMediaIndex] = useState(0);\n  const mediaKnob = select('Video', mediaList, mediaList[mediaIndex]);\n\n  useEffect(() => {\n    const index = mediaList.reduce((a, c, i) => {\n      if (c.label === mediaKnob.label) a = i;\n      return a;\n    }, 0);\n    setMediaIndex(index);\n  }, [mediaKnob]);\n\n  const [uiState, setUiState] =\n    useState<UserControllerInputs>(DEFAULT_UI_ATTRS);\n\n  const [elementsState, elementsDispatcher] = React.useReducer(\n    elementsActionReducer,\n    sampleAnnotations,\n  );\n\n  return (\n    <StoryHint hint={<div>{hintsAnnotateOembed}</div>}>\n      <playerComposer.PlayerContextProvider\n        value={{ mediaList, mediaIndex, setMediaIndex }}\n      >\n        <div>\n          <PanZoom disabled={uiState.mode !== 'panZoom'}>\n            <PanZoomContent\n              render={(setContentSize) => {\n                useEffect(() => {\n                  setContentSize(mediaList[mediaIndex]);\n                }, [mediaIndex]);\n                return <playerComposer.Player />;\n              }}\n              normalizeRes={1000}\n            />\n            {uiState.showAnnotation && (\n              <PanZoomOverlay\n                render={(panZoom, contentSize, containerSize) => {\n                  return (\n                    <AnnotateCanvas\n                      elements={elementsState}\n                      width={containerSize.width}\n                      height={containerSize.height}\n                      panZoom={{\n                        ...panZoom,\n                        scale: normalizeScale(contentSize, panZoom.scale, 1000),\n                      }}\n                      uiState={uiState}\n                      setUiState={setUiState}\n                      onChangeElement={(elementUpdates) =>\n                        elementsDispatcher({\n                          type: 'changeElement',\n                          elementUpdates,\n                        })\n                      }\n                      onAddElement={(newElement) => {\n                        elementsDispatcher({ type: 'addElement', newElement });\n                      }}\n                      disabled={uiState.mode === 'panZoom'}\n                    />\n                  );\n                }}\n              />\n            )}\n          </PanZoom>\n          <div style={{ position: 'absolute', bottom: 0, left: 0, right: 0 }}>\n            <playerComposer.Timeline />\n            <playerComposer.PlayDeck />\n          </div>\n          <BrushTools uiState={uiState} setUIState={setUiState} />\n          <EditTools uiState={uiState} setUIState={setUiState} />\n        </div>\n      </playerComposer.PlayerContextProvider>\n    </StoryHint>\n  );\n}"}},AnnotatePanZoomOembed.parameters)},528:function(module,exports,__webpack_require__){var api=__webpack_require__(264),content=__webpack_require__(1008);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},530:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default})),__webpack_require__.d(__webpack_exports__,"CustomControls",(function(){return CustomControls}));__webpack_require__(66),__webpack_require__(13),__webpack_require__(98),__webpack_require__(4),__webpack_require__(12),__webpack_require__(10),__webpack_require__(20),__webpack_require__(14),__webpack_require__(15),__webpack_require__(17),__webpack_require__(16),__webpack_require__(9),__webpack_require__(25);var react__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(0),_testdata_mediaSamples__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(65),_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(50),_component_core_MediaPlayer_RPlayer__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(288),_component_core_MediaPlayer_composer__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(127),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(1);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var Default=function Default(){var mediaKnob=Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_15__.select)("Video",_testdata_mediaSamples__WEBPACK_IMPORTED_MODULE_14__.b,_testdata_mediaSamples__WEBPACK_IMPORTED_MODULE_14__.b[0]);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_component_core_MediaPlayer_RPlayer__WEBPACK_IMPORTED_MODULE_16__.a,{url:mediaKnob.url,controls:!0})};Default.displayName="Default";var CustomControls=function CustomControls(){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)(0),2),mediaIndex=_useState2[0],setMediaIndex=_useState2[1],mediaKnob=Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_15__.select)("Video",_testdata_mediaSamples__WEBPACK_IMPORTED_MODULE_14__.b,_testdata_mediaSamples__WEBPACK_IMPORTED_MODULE_14__.b[mediaIndex]);return Object(react__WEBPACK_IMPORTED_MODULE_13__.useEffect)((function(){var index=_testdata_mediaSamples__WEBPACK_IMPORTED_MODULE_14__.b.reduce((function(a,c,i){return c.label===mediaKnob.label&&(a=i),a}),0);setMediaIndex(index)}),[mediaKnob]),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("div",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_component_core_MediaPlayer_composer__WEBPACK_IMPORTED_MODULE_17__.c,{value:{mediaList:_testdata_mediaSamples__WEBPACK_IMPORTED_MODULE_14__.b,mediaIndex:mediaIndex,setMediaIndex:setMediaIndex},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_component_core_MediaPlayer_composer__WEBPACK_IMPORTED_MODULE_17__.b,{}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsxs)("div",{style:{position:"absolute",bottom:0,left:0,right:0},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_component_core_MediaPlayer_composer__WEBPACK_IMPORTED_MODULE_17__.d,{}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_component_core_MediaPlayer_composer__WEBPACK_IMPORTED_MODULE_17__.a,{})]})]})})})};CustomControls.displayName="CustomControls",Default.parameters={layout:"fullscreen"},__webpack_exports__.default={title:"MediaPlayer"},Default.parameters=Object.assign({storySource:{source:"(): JSX.Element => {\n  const mediaKnob = select('Video', mediaList, mediaList[0]);\n  return <RPlayer url={mediaKnob.url} controls={true} />;\n}"}},Default.parameters),CustomControls.parameters=Object.assign({storySource:{source:"(): JSX.Element => {\n  const [mediaIndex, setMediaIndex] = useState(0);\n  const mediaKnob = select('Video', mediaList, mediaList[mediaIndex]);\n\n  useEffect(() => {\n    const index = mediaList.reduce((a, c, i) => {\n      if (c.label === mediaKnob.label) a = i;\n      return a;\n    }, 0);\n    setMediaIndex(index);\n  }, [mediaKnob]);\n\n  return (\n    <div>\n      <playerComposer.PlayerContextProvider\n        value={{ mediaList, mediaIndex, setMediaIndex }}\n      >\n        <div>\n          <playerComposer.Player />\n          <div style={{ position: 'absolute', bottom: 0, left: 0, right: 0 }}>\n            <playerComposer.Timeline />\n            <playerComposer.PlayDeck />\n          </div>\n        </div>\n      </playerComposer.PlayerContextProvider>\n    </div>\n  );\n}"}},CustomControls.parameters)},531:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));__webpack_require__(13),__webpack_require__(0);var _storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(50),_component_core_PanZoom__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(222),_component_core_PanZoom_PanZoom__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(140),_testdata_mediaSamples__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(65),_utils__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(192),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1),hintsDefault=Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("h3",{children:"PanZoom"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)("p",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("b",{children:"Tablet"}),": pan and zoom using two fingers"]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)("p",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("b",{children:"Laptop"}),": zoom using mouse wheel or using two finger gesture on trackpad"]})]}),Default=(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.Fragment,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.Fragment,function Default(){var videoUrlKnob=Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__.select)("Media URL",_testdata_mediaSamples__WEBPACK_IMPORTED_MODULE_5__.a,_testdata_mediaSamples__WEBPACK_IMPORTED_MODULE_5__.a[0]),disabled=Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__.boolean)("Disabled",!1);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_utils__WEBPACK_IMPORTED_MODULE_6__.a,{hint:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("div",{children:hintsDefault}),children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_component_core_PanZoom__WEBPACK_IMPORTED_MODULE_3__.a,{disabled:disabled,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_component_core_PanZoom_PanZoom__WEBPACK_IMPORTED_MODULE_4__.a,{render:function render(setContentSize){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("img",{style:{pointerEvents:"none",userSelect:"none"},src:videoUrlKnob,onLoad:function onLoad(e){setContentSize({width:e.currentTarget.width,height:e.currentTarget.height})}})}})})})});Default.displayName="Default",Default.parameters={layout:"fullscreen"},__webpack_exports__.default={title:"PanZoom"},Default.parameters=Object.assign({storySource:{source:"(): JSX.Element => {\n  const videoUrlKnob = select('Media URL', artUrls, artUrls[0]);\n  const disabled = boolean('Disabled', false);\n\n  return (\n    <StoryHint hint={<div>{hintsDefault}</div>}>\n      <PanZoom disabled={disabled}>\n        <PanZoomContent\n          render={(setContentSize) => (\n            <img\n              style={{ pointerEvents: 'none', userSelect: 'none' }}\n              src={videoUrlKnob}\n              onLoad={(e: React.SyntheticEvent<HTMLImageElement>) => {\n                setContentSize({\n                  width: e.currentTarget.width,\n                  height: e.currentTarget.height,\n                });\n              }}\n            />\n          )}\n        />\n      </PanZoom>\n    </StoryHint>\n  );\n}"}},Default.parameters)},536:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return AnnotateCanvas_stories_Default})),__webpack_require__.d(__webpack_exports__,"Edit",(function(){return AnnotateCanvas_stories_Edit})),__webpack_require__.d(__webpack_exports__,"WithBrushControls",(function(){return AnnotateCanvas_stories_WithBrushControls}));__webpack_require__(13),__webpack_require__(98),__webpack_require__(4),__webpack_require__(12),__webpack_require__(10),__webpack_require__(20),__webpack_require__(14),__webpack_require__(15),__webpack_require__(17),__webpack_require__(16),__webpack_require__(9),__webpack_require__(25);var react=__webpack_require__(0),react_default=__webpack_require__.n(react),dist=__webpack_require__(50),core_AnnotateCanvas=__webpack_require__(225).a;try{AnnotateCanvas.displayName="AnnotateCanvas",AnnotateCanvas.__docgenInfo={description:"",displayName:"AnnotateCanvas",props:{width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"number"}},backgroundColor:{defaultValue:null,description:"",name:"backgroundColor",required:!1,type:{name:"string"}},panZoom:{defaultValue:null,description:"",name:"panZoom",required:!1,type:{name:"{ x: number; y: number; scale: number; }"}},clearOnElementModify:{defaultValue:null,description:"",name:"clearOnElementModify",required:!1,type:{name:"boolean"}},elements:{defaultValue:null,description:"",name:"elements",required:!0,type:{name:"AnnotateElement[]"}},onAddElement:{defaultValue:null,description:"",name:"onAddElement",required:!1,type:{name:"((element: AnnotateElement) => void)"}},onChangeElement:{defaultValue:null,description:"",name:"onChangeElement",required:!1,type:{name:"((element: Partial<AnnotateElement>) => void)"}},selection:{defaultValue:null,description:"",name:"selection",required:!1,type:{name:"string[]"}},onSelection:{defaultValue:null,description:"",name:"onSelection",required:!1,type:{name:"((selected: string[]) => void)"}},uiState:{defaultValue:null,description:"",name:"uiState",required:!1,type:{name:"UserControllerInputs"}},setUiState:{defaultValue:null,description:"",name:"setUiState",required:!1,type:{name:"((u: UserControllerInputs) => void)"}},selectionConfig:{defaultValue:null,description:"",name:"selectionConfig",required:!1,type:{name:"UserSelectionConfig"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},debugLogging:{defaultValue:null,description:"",name:"debugLogging",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component/core/AnnotateCanvas/index.tsx#AnnotateCanvas"]={docgenInfo:AnnotateCanvas.__docgenInfo,name:"AnnotateCanvas",path:"src/component/core/AnnotateCanvas/index.tsx#AnnotateCanvas"})}catch(__react_docgen_typescript_loader_error){}var elementActionReducer=__webpack_require__(195),annotationSamples=__webpack_require__(164),BrushTools=__webpack_require__(223),EditTools=__webpack_require__(224),defaults=__webpack_require__(62),jsx_runtime=__webpack_require__(1);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var AnnotateCanvas_stories_Default=function Default(){return Object(jsx_runtime.jsx)("div",{children:Object(jsx_runtime.jsx)(core_AnnotateCanvas,{elements:annotationSamples.a,width:480,height:480,backgroundColor:"SlateGray"})})};AnnotateCanvas_stories_Default.displayName="Default";var AnnotateCanvas_stories_Edit=function Edit(){var shapeKnob=Object(dist.optionsKnob)("Shape",{Ellipse:"Ellipse",Rect:"Rect",Textbox:"Textbox",Path:"Path"},"Rect",{display:"inline-radio"}),canvasModeKnob=Object(dist.optionsKnob)("Canvas Mode",{draw:"draw",selection:"selection"},"draw",{display:"inline-radio"}),fontSizeKnob=Object(dist.number)("Attr/Font Size",24,{range:!0,min:6,max:50,step:1}),colorKnob=Object(dist.color)("Stroke","#11ff33"),strokeWidthKnob=Object(dist.number)("Stroke Width",3,{range:!0,min:1,max:10,step:1}),_React$useReducer2=_slicedToArray(react_default.a.useReducer(elementActionReducer.a,annotationSamples.a),2),elementsState=_React$useReducer2[0],elementsDispatcher=_React$useReducer2[1],uiState={mode:canvasModeKnob,showAnnotation:!0,shape:shapeKnob,fontSize:fontSizeKnob,color:colorKnob,strokeWidth:strokeWidthKnob,fontFamily:"Times New Roman"};return Object(jsx_runtime.jsx)("div",{children:Object(jsx_runtime.jsx)(core_AnnotateCanvas,{elements:elementsState,uiState:uiState,width:480,height:480,backgroundColor:"SlateGray",onChangeElement:function onChangeElement(elementUpdates){return elementsDispatcher({type:"changeElement",elementUpdates:elementUpdates})},onAddElement:function onAddElement(newElement){elementsDispatcher({type:"addElement",newElement:newElement})},clearOnElementModify:!0,debugLogging:!1})})};AnnotateCanvas_stories_Edit.displayName="Edit";var AnnotateCanvas_stories_WithBrushControls=function WithBrushControls(){var _useState2=_slicedToArray(Object(react.useState)(defaults.c),2),uiState=_useState2[0],setUiState=_useState2[1],_React$useReducer4=_slicedToArray(react_default.a.useReducer(elementActionReducer.a,annotationSamples.a),2),elementsState=_React$useReducer4[0],elementsDispatcher=_React$useReducer4[1];return Object(jsx_runtime.jsxs)("div",{id:"top_panel",style:{display:"flex"},children:[Object(jsx_runtime.jsx)(core_AnnotateCanvas,{elements:elementsState,width:480,height:480,backgroundColor:"SlateGray",uiState:uiState,setUiState:setUiState,onChangeElement:function onChangeElement(elementUpdates){return elementsDispatcher({type:"changeElement",elementUpdates:elementUpdates})},onAddElement:function onAddElement(newElement){elementsDispatcher({type:"addElement",newElement:newElement})}}),Object(jsx_runtime.jsx)(BrushTools.a,{uiState:uiState,setUIState:setUiState}),Object(jsx_runtime.jsx)(EditTools.a,{uiState:uiState,setUIState:setUiState})]})};AnnotateCanvas_stories_WithBrushControls.displayName="WithBrushControls",AnnotateCanvas_stories_WithBrushControls.parameters={layout:"fullscreen"};__webpack_exports__.default={title:"AnnotateCanvas"};AnnotateCanvas_stories_Default.parameters=Object.assign({storySource:{source:"(): JSX.Element => {\n  return (\n    <div>\n      <AnnotateCanvas\n        elements={sampleAnnotations}\n        width={480}\n        height={480}\n        backgroundColor={'SlateGray'}\n      />\n    </div>\n  );\n}"}},AnnotateCanvas_stories_Default.parameters),AnnotateCanvas_stories_Edit.parameters=Object.assign({storySource:{source:"(): JSX.Element => {\n  const shapeKnob = optionsKnob(\n    'Shape',\n    {\n      Ellipse: 'Ellipse',\n      Rect: 'Rect',\n      Textbox: 'Textbox',\n      Path: 'Path',\n    },\n    'Rect',\n    { display: 'inline-radio' },\n  );\n  const canvasModeKnob = optionsKnob(\n    'Canvas Mode',\n    { draw: 'draw', selection: 'selection' },\n    'draw',\n    { display: 'inline-radio' },\n  );\n  const fontSizeKnob = number('Attr/Font Size', 24, {\n    range: true,\n    min: 6,\n    max: 50,\n    step: 1,\n  });\n  const colorKnob = color('Stroke', '#11ff33');\n  const strokeWidthKnob = number('Stroke Width', 3, {\n    range: true,\n    min: 1,\n    max: 10,\n    step: 1,\n  });\n\n  const [elementsState, elementsDispatcher] = React.useReducer(\n    elementsActionReducer,\n    sampleAnnotations,\n  );\n\n  const uiState: UserControllerInputs = {\n    mode: canvasModeKnob,\n    showAnnotation: true,\n    shape: shapeKnob,\n    fontSize: fontSizeKnob,\n    color: colorKnob,\n    strokeWidth: strokeWidthKnob,\n    fontFamily: 'Times New Roman',\n  };\n\n  return (\n    <div>\n      <AnnotateCanvas\n        elements={elementsState}\n        uiState={uiState}\n        width={480}\n        height={480}\n        backgroundColor={'SlateGray'}\n        onChangeElement={(elementUpdates) =>\n          elementsDispatcher({ type: 'changeElement', elementUpdates })\n        }\n        onAddElement={(newElement) => {\n          elementsDispatcher({ type: 'addElement', newElement });\n        }}\n        clearOnElementModify={true}\n        debugLogging={false}\n      />\n    </div>\n  );\n}"}},AnnotateCanvas_stories_Edit.parameters),AnnotateCanvas_stories_WithBrushControls.parameters=Object.assign({storySource:{source:"(): JSX.Element => {\n  const [uiState, setUiState] =\n    useState<UserControllerInputs>(DEFAULT_UI_ATTRS);\n\n  const [elementsState, elementsDispatcher] = React.useReducer(\n    elementsActionReducer,\n    sampleAnnotations,\n  );\n\n  return (\n    <div id=\"top_panel\" style={{ display: 'flex' }}>\n      <AnnotateCanvas\n        elements={elementsState}\n        width={480}\n        height={480}\n        backgroundColor={'SlateGray'}\n        uiState={uiState}\n        setUiState={setUiState}\n        onChangeElement={(elementUpdates) =>\n          elementsDispatcher({ type: 'changeElement', elementUpdates })\n        }\n        onAddElement={(newElement) => {\n          elementsDispatcher({ type: 'addElement', newElement });\n        }}\n      />\n\n      <BrushTools uiState={uiState} setUIState={setUiState} />\n      <EditTools uiState={uiState} setUIState={setUiState} />\n    </div>\n  );\n}"}},AnnotateCanvas_stories_WithBrushControls.parameters)},537:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return StopWatch_stories_Default}));__webpack_require__(13);var react=__webpack_require__(0),react_default=__webpack_require__.n(react),jsx_runtime=(__webpack_require__(529),__webpack_require__(266),__webpack_require__(495),__webpack_require__(98),__webpack_require__(4),__webpack_require__(12),__webpack_require__(10),__webpack_require__(20),__webpack_require__(14),__webpack_require__(15),__webpack_require__(17),__webpack_require__(16),__webpack_require__(9),__webpack_require__(25),__webpack_require__(1));function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var StopWatch_StopWatch=function StopWatch(_ref){var text=_ref.text,color=_ref.color,displayTimeInputRef=_ref.displayTimeInputRef,_React$useState2=_slicedToArray(react_default.a.useState(""),2),displayTime=_React$useState2[0],setDisplayTime=_React$useState2[1],displayTimer=react_default.a.useRef(null),startTime=react_default.a.useRef(null);react_default.a.useEffect((function(){return toggleClock(),function(){null!==displayTimer.current&&window.clearInterval(displayTimer.current)}}),[]);var toggleClock=function toggleClock(){null!==displayTimer.current?(window.clearInterval(displayTimer.current),setDisplayTime("0"),displayTimer.current=null):(startTime.current=new Date,displayTimer.current=window.setInterval((function(){setDisplayTime((((new Date).getTime()-startTime.current.getTime())/1e3).toFixed(2))}),100))};return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)("div",{style:{color:color},children:text}),Object(jsx_runtime.jsx)("input",{ref:displayTimeInputRef,type:"text",defaultValue:displayTime}),Object(jsx_runtime.jsx)("button",{onClick:function onClick(e){return toggleClock()},children:"0"===displayTime?"Start":"Pause"})]})},experiment_StopWatch=StopWatch_StopWatch;try{StopWatch_StopWatch.displayName="StopWatch",StopWatch_StopWatch.__docgenInfo={description:"",displayName:"StopWatch",props:{text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"string"}},displayTimeInputRef:{defaultValue:null,description:"",name:"displayTimeInputRef",required:!1,type:{name:"RefObject<HTMLInputElement>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component/experiment/StopWatch/index.tsx#StopWatch"]={docgenInfo:StopWatch_StopWatch.__docgenInfo,name:"StopWatch",path:"src/component/experiment/StopWatch/index.tsx#StopWatch"})}catch(__react_docgen_typescript_loader_error){}var dist=__webpack_require__(50),StopWatch_stories_Default=function Default(){var stopWatchTimeDisplayInputRef=react_default.a.useRef(null);return Object(dist.button)("Tell time using Ref",(function(){var _stopWatchTimeDisplay;alert(null===(_stopWatchTimeDisplay=stopWatchTimeDisplayInputRef.current)||void 0===_stopWatchTimeDisplay?void 0:_stopWatchTimeDisplay.value)})),Object(jsx_runtime.jsx)(experiment_StopWatch,{displayTimeInputRef:stopWatchTimeDisplayInputRef,text:"hello, world",color:"#00ff00"})};StopWatch_stories_Default.displayName="Default",StopWatch_stories_Default.parameters=Object.assign({storySource:{source:'(): JSX.Element => {\n  const stopWatchTimeDisplayInputRef = React.useRef<HTMLInputElement|null>(null);\n\n  button(\'Tell time using Ref\', () => {\n    alert(stopWatchTimeDisplayInputRef.current?.value);\n  });\n\n  return (\n    <StopWatch\n      displayTimeInputRef={stopWatchTimeDisplayInputRef}\n      text="hello, world"\n      color="#00ff00"\n    />\n  );\n}'}},StopWatch_stories_Default.parameters)},538:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Timeline_stories_Default})),__webpack_require__.d(__webpack_exports__,"UseFrames",(function(){return Timeline_stories_UseFrames})),__webpack_require__.d(__webpack_exports__,"WithPlayControls",(function(){return Timeline_stories_WithPlayControls}));__webpack_require__(13),__webpack_require__(98),__webpack_require__(4),__webpack_require__(12),__webpack_require__(10),__webpack_require__(20),__webpack_require__(14),__webpack_require__(15),__webpack_require__(17),__webpack_require__(16),__webpack_require__(9),__webpack_require__(25);var react=__webpack_require__(0),PlayDeck=__webpack_require__(193),core_Timeline=__webpack_require__(287).a;try{Timeline.displayName="Timeline",Timeline.__docgenInfo={description:"",displayName:"Timeline",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},duration:{defaultValue:null,description:"",name:"duration",required:!0,type:{name:"number"}},currentTime:{defaultValue:null,description:"",name:"currentTime",required:!0,type:{name:"number"}},useFrameDisplay:{defaultValue:{value:"false"},description:"",name:"useFrameDisplay",required:!1,type:{name:"boolean"}},frameRange:{defaultValue:null,description:"",name:"frameRange",required:!1,type:{name:"[number, number]"}},timelineCaptured:{defaultValue:null,description:"",name:"timelineCaptured",required:!1,type:{name:"boolean"}},onTimelineSeek:{defaultValue:null,description:"",name:"onTimelineSeek",required:!1,type:{name:"((seekTime: number, seekFrameIndex?: number) => void)"}},onTimelineCaptured:{defaultValue:null,description:"",name:"onTimelineCaptured",required:!1,type:{name:"((captured: boolean) => void)"}},onPointerMove:{defaultValue:null,description:"",name:"onPointerMove",required:!1,type:{name:"((e: any) => void)"}},themeColor:{defaultValue:{value:"red"},description:"",name:"themeColor",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component/core/Timeline/index.tsx#Timeline"]={docgenInfo:Timeline.__docgenInfo,name:"Timeline",path:"src/component/core/Timeline/index.tsx#Timeline"})}catch(__react_docgen_typescript_loader_error){}var jsx_runtime=__webpack_require__(1);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"Timeline"};var Timeline_stories_Default=function Default(){var _useState2=_slicedToArray(Object(react.useState)(.25),2),currentTime=_useState2[0],setCurrentTime=_useState2[1];return Object(jsx_runtime.jsx)("div",{id:"example Container",style:{paddingTop:"100px",height:"100%",background:"#888",marginLeft:"20px",width:"calc(100% - 40px)"},children:Object(jsx_runtime.jsx)(core_Timeline,{currentTime:currentTime,duration:1,onTimelineSeek:function handleTimelineSeek(seekTime){setCurrentTime(seekTime)}})})};Timeline_stories_Default.displayName="Default";var Timeline_stories_UseFrames=function UseFrames(){var _useState4=_slicedToArray(Object(react.useState)(.5),2),currentTime=_useState4[0],setCurrentTime=_useState4[1];return Object(jsx_runtime.jsx)("div",{id:"example Container",style:{paddingTop:"100px",height:"100%",background:"#888",marginLeft:"20px",width:"calc(100% - 40px)"},children:Object(jsx_runtime.jsx)(core_Timeline,{currentTime:currentTime,duration:2,useFrameDisplay:!0,frameRange:[101,110],onTimelineSeek:function handleTimelineSeek(seekTime){setCurrentTime(seekTime)}})})};Timeline_stories_UseFrames.displayName="UseFrames";var Timeline_stories_WithPlayControls=function WithPlayControls(){var _useState6=_slicedToArray(Object(react.useState)(.5),2),currentTime=_useState6[0],setCurrentTime=_useState6[1],_useState8=_slicedToArray(Object(react.useState)(!0),2),playing=_useState8[0],setPlaying=_useState8[1],_useState10=_slicedToArray(Object(react.useState)(0),2),loopTypeIndex=_useState10[0],setLoopTypeIndex=_useState10[1],playDeck=Object(jsx_runtime.jsx)(PlayDeck.b,{playing:playing,onPlay:function onPlay(){setPlaying((function(p){return!p}))},onSkipNext:function onSkipNext(){console.log("Play Next")},onSkipPrev:function onSkipPrev(){console.log("Play Previous")},loopType:PlayDeck.a[loopTypeIndex],onToggleLoop:function onToggleLoop(){setLoopTypeIndex((loopTypeIndex+1)%PlayDeck.a.length)}});return Object(jsx_runtime.jsx)("div",{id:"mainWindow",style:{paddingTop:"100px",height:"100%",background:"#888",marginLeft:"20px",width:"calc(100% - 40px)"},children:Object(jsx_runtime.jsxs)("div",{id:"playControlPanel",style:{position:"relative",width:"100%"},children:[Object(jsx_runtime.jsx)(core_Timeline,{currentTime:currentTime,duration:2,useFrameDisplay:!0,frameRange:[101,148],onTimelineSeek:function handleTimelineSeek(seekTime){setCurrentTime(seekTime)}}),playDeck]})})};Timeline_stories_WithPlayControls.displayName="WithPlayControls",Timeline_stories_Default.parameters={layout:"fullscreen"},Timeline_stories_Default.parameters=Object.assign({storySource:{source:"(): JSX.Element => {\n  const [currentTime, setCurrentTime] = useState(0.25);\n\n  const handleTimelineSeek = (seekTime: number) => {\n    setCurrentTime(seekTime);\n  };\n\n  return (\n    <div\n      id=\"example Container\"\n      style={{\n        paddingTop: '100px',\n        height: '100%',\n        background: '#888',\n        marginLeft: '20px',\n        width: 'calc(100% - 40px)',\n      }}\n    >\n      <Timeline currentTime={currentTime} duration={1} onTimelineSeek={handleTimelineSeek} />\n    </div>\n  );\n}"}},Timeline_stories_Default.parameters),Timeline_stories_UseFrames.parameters=Object.assign({storySource:{source:"(): JSX.Element => {\n  const [currentTime, setCurrentTime] = useState(0.5);\n\n  const handleTimelineSeek = (seekTime: number) => {\n    setCurrentTime(seekTime);\n  };\n\n  return (\n    <div\n      id=\"example Container\"\n      style={{\n        paddingTop: '100px',\n        height: '100%',\n        background: '#888',\n        marginLeft: '20px',\n        width: 'calc(100% - 40px)',\n      }}\n    >\n      <Timeline\n        currentTime={currentTime}\n        duration={2}\n        useFrameDisplay={true}\n        frameRange={[101, 110]}\n        onTimelineSeek={handleTimelineSeek}\n      />\n    </div>\n  );\n}"}},Timeline_stories_UseFrames.parameters),Timeline_stories_WithPlayControls.parameters=Object.assign({storySource:{source:"(): JSX.Element => {\n  const [currentTime, setCurrentTime] = useState(0.5);\n  const [playing, setPlaying] = useState(true);\n\n  const [loopTypeIndex, setLoopTypeIndex] = useState<number>(0);\n\n  const handleTimelineSeek = (seekTime: number) => {\n    setCurrentTime(seekTime);\n  };\n\n  const playDeck = (\n    <PlayDeck\n      playing={playing}\n      onPlay={() => {\n        setPlaying((p) => !p);\n      }}\n      onSkipNext={() => {\n        console.log('Play Next');\n      }}\n      onSkipPrev={() => {\n        console.log('Play Previous');\n      }}\n      loopType={LOOP_TYPE_LIST[loopTypeIndex]}\n      onToggleLoop={() => {\n        setLoopTypeIndex((loopTypeIndex + 1) % LOOP_TYPE_LIST.length);\n      }}\n    />\n  );\n\n  return (\n    <div\n      id=\"mainWindow\"\n      style={{\n        paddingTop: '100px',\n        height: '100%',\n        background: '#888',\n        marginLeft: '20px',\n        width: 'calc(100% - 40px)',\n      }}\n    >\n      <div id=\"playControlPanel\" style={{ position: 'relative', width: '100%' }}>\n        <Timeline\n          currentTime={currentTime}\n          duration={2}\n          useFrameDisplay={true}\n          frameRange={[101, 148]}\n          onTimelineSeek={handleTimelineSeek}\n        />\n        {playDeck}\n      </div>\n    </div>\n  );\n}"}},Timeline_stories_WithPlayControls.parameters)},606:function(module,exports,__webpack_require__){__webpack_require__(607),__webpack_require__(765),__webpack_require__(766),__webpack_require__(1027),__webpack_require__(1028),__webpack_require__(957),__webpack_require__(1034),__webpack_require__(1033),__webpack_require__(1030),__webpack_require__(1035),__webpack_require__(1031),__webpack_require__(1032),__webpack_require__(1036),module.exports=__webpack_require__(971)},62:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return DEFAULT_UI_ATTRS})),__webpack_require__.d(__webpack_exports__,"a",(function(){return DEFAULT_CANVAS_ATTRS})),__webpack_require__.d(__webpack_exports__,"b",(function(){return DEFAULT_SELECTION_CONFIG})),__webpack_require__.d(__webpack_exports__,"d",(function(){return FabricObjectDefaults})),__webpack_require__.d(__webpack_exports__,"e",(function(){return HAS_ROTATE_HANDLE}));var DEFAULT_UI_ATTRS={mode:"selection",showAnnotation:!0,shape:"Rect",fontSize:20,color:"Coral",strokeWidth:3,fontFamily:"Times New Roman"},DEFAULT_CANVAS_ATTRS={uniformScaling:!1,preserveObjectStacking:!0,targetFindTolerance:10},DEFAULT_SELECTION_CONFIG={perPixelSelection:!1,selectionColor:"Azure",hoverBoundingBox:!0},FabricObjectDefaults={noScaleCache:!1,strokeUniform:!0},HAS_ROTATE_HANDLE=!0},65:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return artUrls})),__webpack_require__.d(__webpack_exports__,"b",(function(){return mediaSamplesWithLabel}));__webpack_require__(66),__webpack_require__(13);var artUrls=["https://upload.wikimedia.org/wikipedia/commons/9/9c/Claude_Monet_-_Nymph%C3%A9as%2C_effet_du_soir_W1504_-_Mus%C3%A9e_Marmottan-Monet.jpg","https://upload.wikimedia.org/wikipedia/commons/thumb/a/a5/Tsunami_by_hokusai_19th_century.jpg/1024px-Tsunami_by_hokusai_19th_century.jpg"],mediaSamplesWithLabel=[{provider_name:"Vimeo",type:"video",url:"https://vimeo.com/channels/staffpicks/539430817",width:640,height:360,thumbnail_url:"https://i.vimeocdn.com/video/1116774666_640.jpg",title:"The Pitch Song",author_url:"https://vimeo.com/giantant",duration:94.59},{provider_name:"YouTube",type:"video",url:"https://www.youtube.com/watch?v=KMX_FuOLoCI",width:200,height:150,duration:56.121,thumbnail_url:"https://i.ytimg.com/vi/KMX_FuOLoCI/hqdefault.jpg",title:"Steve Jobs Makes Fun of DOS in 1992",author_url:"https://www.youtube.com/c/AriWeinstein"},{provider_name:"YouTube",type:"video",url:"https://www.youtube.com/watch?v=-SGrRkUP0b0",width:200,height:113,duration:583.521,thumbnail_url:"https://i.ytimg.com/vi/-SGrRkUP0b0/hqdefault.jpg",title:"NETS at RAPTORS | FULL GAME HIGHLIGHTS | April 27, 2021",author_url:"https://www.youtube.com/c/AriWeinstein"},{provider_name:"",type:"video",url:"https://test-videos.co.uk/vids/bigbuckbunny/mp4/h264/720/Big_Buck_Bunny_720_10s_2MB.mp4",title:"Big_Buck_Bunny_720_10s_2MB.mp4",width:1280,height:720,duration:10},{provider_name:"SoundCloud",type:"audio",url:"https://soundcloud.com/miami-nights-1984/accelerated",width:800,height:450,duration:236.43,title:"MIAMI NIGHTS 1984"},{provider_name:"",type:"video",url:"https://cdn.videvo.net/videvo_files/video/free/2019-02/small_watermarked/181004_10_LABORATORIES-SCIENCE_12_preview.webm",title:"181004_10_LABORATORIES-SCIENCE_12_preview.webm",width:428,height:240,duration:8.563}].reduce((function(a,c){return a.push(Object.assign({},c,{label:c.title})),a}),[])},674:function(module,exports){},75:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return getContentFitSpec})),__webpack_require__.d(__webpack_exports__,"a",(function(){return getAbsoluteCoords})),__webpack_require__.d(__webpack_exports__,"c",(function(){return getDistance})),__webpack_require__.d(__webpack_exports__,"d",(function(){return getMidPoint})),__webpack_require__.d(__webpack_exports__,"e",(function(){return getTouchCoords})),__webpack_require__.d(__webpack_exports__,"f",(function(){return normalizeScale})),__webpack_require__.d(__webpack_exports__,"g",(function(){return normalizeSize}));__webpack_require__(30),__webpack_require__(25),__webpack_require__(14);var getContentFitSpec=function getContentFitSpec(content,container){var viewerAspect=container.width/container.height,contentAspect=content.width/content.height,ratioWidth=container.width/content.width,ratioHeight=container.height/content.height,scale=viewerAspect>contentAspect?ratioHeight:ratioWidth;return{x:Math.abs(container.width-content.width*scale)/2,y:Math.abs(container.height-content.height*scale)/2,scale:scale}},getAbsoluteCoords=function getAbsoluteCoords(coords,boundingRect){return{x:coords.clientX-boundingRect.left,y:coords.clientY-boundingRect.top}},getDistance=function getDistance(points){return Math.sqrt(Math.pow(points[0].x-points[1].x,2)+Math.pow(points[0].y-points[1].y,2))},getMidPoint=function getMidPoint(points){return[(points[0].x+points[1].x)/2,(points[0].y+points[1].y)/2]},getTouchCoords=function getTouchCoords(evt){return Array.from(evt.touches).map((function(t){return getAbsoluteCoords(t,evt.currentTarget.getBoundingClientRect())}))},normalizeScale=function normalizeScale(contentSize,scale,resolution){return Math.max(contentSize.width/resolution,contentSize.height/resolution)*scale},normalizeSize=function normalizeSize(contentSize,resolution){return contentSize.width/resolution>contentSize.height/resolution?{width:resolution,height:contentSize.height/contentSize.width*resolution}:{height:resolution,width:contentSize.width/contentSize.height*resolution}}},766:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(435)},971:function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__(435).configure)([__webpack_require__(972),__webpack_require__(973),__webpack_require__(1025),__webpack_require__(1026)],module,!1)}).call(this,__webpack_require__(213)(module))},972:function(module,exports){function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,module.exports=webpackEmptyContext,webpackEmptyContext.id=972},973:function(module,exports,__webpack_require__){var map={"./stories/component/AdvanceUsage.stories.tsx":524,"./stories/component/AnnotateCanvas.stories.tsx":536,"./stories/component/MediaPlayer.stories.tsx":530,"./stories/component/PanZoomPinch.stories.tsx":531,"./stories/component/StopWatch.stories.tsx":537,"./stories/component/Timeline.stories.tsx":538};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=973},974:function(module,exports,__webpack_require__){var api=__webpack_require__(264),content=__webpack_require__(975);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},975:function(module,exports,__webpack_require__){(exports=__webpack_require__(265)(!1)).push([module.i,".panzoom_top_container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  overflow: hidden;\n}\n\n.panzoom_overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  overflow: hidden;\n}",""]),module.exports=exports},981:function(module,exports){},982:function(module,exports){},983:function(module,exports){},985:function(module,exports,__webpack_require__){var api=__webpack_require__(264),content=__webpack_require__(986);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},986:function(module,exports,__webpack_require__){(exports=__webpack_require__(265)(!1)).push([module.i,"/*\n.playDeck .MuiSvgIcon-root {\n  fill: #fff;\n  filter: drop-shadow( 2px 2px 4px rgba(0,0,0,0.6));\n}\n\n.playDeck .MuiIconButton-root:hover .MuiSvgIcon-root {\n  filter: drop-shadow( 2px 2px 5px rgba(0,0,0,0.8));\n}\n\n.playDeck  .Mui-disabled  .MuiSvgIcon-root { \n  fill: #fff5;\n}\n */\n",""]),module.exports=exports},987:function(module,exports,__webpack_require__){var api=__webpack_require__(264),content=__webpack_require__(988);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},988:function(module,exports,__webpack_require__){(exports=__webpack_require__(265)(!1)).push([module.i,".timeline {\n  position: relative;\n  display: flex;\n  flex-flow: row nowrap;\n  align-content: space-between;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\n\n.timeline__scrollzone {\n  position: absolute;\n  /* width: 100%; */\n  height: 40px;\n  bottom: 0px;\n  cursor: pointer;\n  left: 12px;\n  right: 12px;\n}\n\n.timeline__track {\n  position: absolute;\n  bottom: 0px;\n  width: 100%;\n  height: 4px;\n  /* transform: translateY(-50%); */\n  background-color: rgb(170, 170, 170);\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n\n  pointer-events: none;\n  touch-action: none;\n}\n\n.timeline__scrollzone:hover .timeline__track {\n  height: 8px;\n  transition: height 0.25s;\n}\n\n.timeline__track__progress {\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n\n  cursor: pointer;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  pointer-events: none;\n  touch-action: none;\n  /* background-color: indigo; */\n  /* border-right: solid 1px white; */\n}\n\n.timeline__track__playhead {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n\n  -webkit-user-select: none;\n\n     -moz-user-select: none;\n\n      -ms-user-select: none;\n\n          user-select: none;\n  pointer-events: none;\n\n  width: 0px;\n  height: 0px;\n  border-radius: 50%;\n  border-width: 0px;\n  margin: auto;\n\n  transform: translateX(-50%);\n  background: indigo;\n}\n\n.timeline__scrollzone:hover .timeline__track__playhead {\n  height: 16px;\n  width: 16px;\n  transition: width 0.25s;\n  transition: height 0.25s;\n}\n\n\n.timeline__track__playhead__text {\n  font-family: sans-serif;\n  font-size: 12px;\n  position: absolute;\n  top: -1.5em;\n  color: white;\n  transform: translateX(-50%);\n}",""]),module.exports=exports}},[[606,2,3]]]);